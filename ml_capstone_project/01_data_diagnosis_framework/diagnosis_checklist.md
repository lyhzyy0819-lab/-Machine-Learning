# ✅ 数据诊断检查清单

> 逐项检查，确保不遗漏任何关键问题

## 📋 两种版本

本检查清单提供两个版本，根据你的时间和项目重要性选择：

### 快速版（5-10分钟）⭐

**适合**：
- 日常数据诊断
- 快速验证数据质量
- 时间紧迫的项目

**内容**：只检查最关键的15项（标记为⭐）

**跳转** → [快速版检查清单](#快速版检查清单-5-10分钟)

---

### 完整版（25-30分钟）

**适合**：
- 重要项目
- 首次接触的数据
- 需要全面诊断

**内容**：完整的100+项检查（本文档完整版）

**跳转** → [完整版检查清单](#第一部分基础信息必查)

---

## 🚀 快速开始

**第一次使用** → 先用[快速版](#快速版检查清单-5-10分钟)，发现问题再用完整版

**配合使用** → 检查时发现问题？查看 [data_problem_to_solution_mapping.md](data_problem_to_solution_mapping.md) 获取解决方案

---

## 快速版检查清单（5-10分钟）

只检查最关键的项目，快速验证数据质量：

### 基础检查
- [ ] ⭐ 数据加载成功？样本数：\_\_\_\_，特征数：\_\_\_\_
- [ ] ⭐ 缺失值检查：缺失率>50%的列：\_\_\_个
- [ ] ⭐ 重复值检查：重复率：\_\_\_\_%

### 质量检查
- [ ] ⭐ 异常值检查：min/max值合理？
- [ ] ⭐ 数据类型正确？（数值/类别/日期）

### 目标变量检查
- [ ] ⭐ 目标变量分布：类别平衡性或值域范围：\_\_\_\_
- [ ] ⭐ 评估指标选择：平衡用Accuracy，不平衡用F1/AUC

### 特征检查
- [ ] ⭐ 高相关特征对（r>0.9）：\_\_\_个
- [ ] ⭐ 数据泄漏风险：ID列已删除？无未来信息？

### 后续规划
- [ ] ⭐ 已确定需要处理的P0/P1问题清单
- [ ] ⭐ 已查阅对应的解决方案文档

**完成后下一步** → 查看 [data_problem_to_solution_mapping.md](data_problem_to_solution_mapping.md)

---

## 📋 使用方法（完整版）

1. 打印或保存本清单
2. 对每一项进行检查
3. 在方框中打勾 `[x]` 表示已完成
4. 记录发现的问题和处理方案

---

## 🎯 第一部分：基础信息（必查）

### 1.1 数据加载

- [ ] 数据文件可以正常加载
- [ ] 文件编码正确（无乱码）
- [ ] 数据类型正确识别
- [ ] 列名清晰、无重复

**记录：**
```
样本数: ______
特征数: ______
文件大小: ______ MB
```

### 1.2 数据集大小评估

- [ ] 样本数是否足够？（建议 >1000）
- [ ] 特征数是否合理？（避免特征数 > 样本数）
- [ ] 内存占用是否可接受？

**判断：**
- [ ] ✅ 数据量充足
- [ ] ⚠️  数据量偏小（<1000）
- [ ] ⚠️  数据量过大（>100万，考虑采样）

### 1.3 特征类型统计

- [ ] 数值型特征数: ______
- [ ] 类别型特征数: ______
- [ ] 文本型特征数: ______
- [ ] 日期时间特征数: ______
- [ ] 混合类型特征数: ______（需要处理）

---

## 🔍 第二部分：数据质量检查（核心）

### 2.1 缺失值检查

- [ ] 执行了缺失值统计
- [ ] 识别了缺失模式（MCAR/MAR/MNAR）
- [ ] 可视化了缺失值分布

**缺失值特征列表：**
```
特征名          缺失数    缺失率    处理方案
________        ____      ____%     ________
________        ____      ____%     ________
________        ____      ____%     ________
```

**缺失值严重程度：**
- [ ] 严重缺失（>50%）: ______ 个特征
- [ ] 中度缺失（5-50%）: ______ 个特征
- [ ] 轻度缺失（<5%）: ______ 个特征
- [ ] 无缺失值 ✅

**处理计划：**
- [ ] 删除缺失率>50%的列
- [ ] 均值/中位数填充
- [ ] 众数填充
- [ ] KNN填充
- [ ] 建模填充
- [ ] 其他: _______________

### 2.2 重复值检查

- [ ] 检查了完全重复的行
- [ ] 检查了关键字段重复（如ID）
- [ ] 分析了重复原因

**重复值情况：**
```
重复行数: ______
重复比例: ______%
```

**处理决策：**
- [ ] 直接删除（数据录入错误）
- [ ] 保留（真实重复）
- [ ] 加权处理
- [ ] 无重复值 ✅

### 2.3 异常值检测

- [ ] 使用IQR方法检测
- [ ] 使用Z-Score方法检测
- [ ] 可视化了异常值（箱线图）

**异常值特征列表：**
```
特征名          异常数    异常率    类型        处理方案
________        ____      ____%     错误/极值   ________
________        ____      ____%     错误/极值   ________
```

**处理决策：**
- [ ] 删除（数据错误）
- [ ] 截断（Winsorization）
- [ ] 转换（log/sqrt）
- [ ] 保留（真实极值）
- [ ] 无明显异常值 ✅

### 2.4 数据一致性检查

- [ ] 单位是否统一？（如cm vs m）
- [ ] 日期格式是否一致？
- [ ] 分类标签是否标准化？（如"男" vs "Male"）
- [ ] 数值范围是否合理？（如年龄0-150）

**发现的不一致性：**
```
问题描述: _______________
影响特征: _______________
处理方案: _______________
```

---

## 📊 第三部分：分布分析

### 3.1 目标变量分析

**问题类型判断：**
- [ ] 分类问题（类别数: ______）
- [ ] 回归问题（值域: [______, ______]）

**分类问题检查：**
- [ ] 检查了类别平衡性
- [ ] 计算了各类别占比

```
类别分布:
类别0: ______ (___%)
类别1: ______ (___%)
类别2: ______ (___%)
```

**平衡性判断：**
- [ ] 平衡（最大类<60%）✅
- [ ] 轻度不平衡（最大类60-70%）⚠️
- [ ] 中度不平衡（最大类70-80%）⚠️
- [ ] 严重不平衡（最大类>80%）❌

**不平衡处理计划：**
- [ ] 使用SMOTE过采样
- [ ] 随机欠采样
- [ ] 调整类权重
- [ ] 使用特殊算法（如XGBoost）
- [ ] 改变评估指标（F1/AUC）

**回归问题检查：**
- [ ] 绘制了目标变量分布图
- [ ] 计算了偏度和峰度

```
均值: ______
中位数: ______
标准差: ______
偏度: ______ (是否需要变换？)
峰度: ______
```

**分布处理：**
- [ ] 需要对数变换（右偏）
- [ ] 需要Box-Cox变换
- [ ] 分布合理，无需变换 ✅

### 3.2 数值特征分布

- [ ] 绘制了所有数值特征的直方图
- [ ] 计算了每个特征的偏度
- [ ] 识别了需要变换的特征

**需要变换的特征：**
```
特征名          偏度      变换方法
________        ____      log/sqrt/boxcox
________        ____      log/sqrt/boxcox
```

### 3.3 类别特征分布

- [ ] 统计了每个类别特征的唯一值数量
- [ ] 识别了常量特征（唯一值=1）
- [ ] 识别了高基数特征（唯一值>50）

**特征分类：**
```
类别名              唯一值数    类型        编码方法
________            ____        低基数      One-Hot
________            ____        中基数      Label Encoding
________            ____        高基数      Target Encoding
________            ____        常量        删除
```

---

## 🔗 第四部分：特征关系分析

### 4.1 特征间相关性

- [ ] 绘制了相关性热力图
- [ ] 识别了高相关特征对（|r|>0.9）
- [ ] 决定了要删除的冗余特征

**高相关特征对：**
```
特征1          特征2          相关系数    保留/删除
________       ________       _____       ________
________       ________       _____       ________
```

**处理决策：**
- [ ] 删除相关特征中的一个
- [ ] 使用PCA降维
- [ ] 保留（使用树模型可容忍）
- [ ] 无高相关特征 ✅

### 4.2 特征与目标关系

- [ ] 计算了每个特征与目标的相关性
- [ ] 识别了弱相关特征（|r|<0.05）
- [ ] 可视化了关键特征与目标的关系

**弱相关特征（考虑删除）：**
```
特征名          相关系数    决策
________        _____       删除/保留/特征工程
________        _____       删除/保留/特征工程
```

### 4.3 多重共线性检查（线性模型）

- [ ] 计算了VIF（方差膨胀因子）
- [ ] 识别了VIF>10的特征

**VIF检查结果：**
```
特征名          VIF         处理方案
________        ____        删除/正则化
________        ____        删除/正则化
```

**处理决策：**
- [ ] 删除高VIF特征
- [ ] 使用Ridge/Lasso正则化
- [ ] 使用树模型（不受影响）
- [ ] 无共线性问题 ✅

---

## ⚠️ 第五部分：高级检查

### 5.1 数据泄漏检查

- [ ] 检查了是否有ID列被用作特征
- [ ] 检查了是否有未来信息
- [ ] 检查了是否有目标变量的变种
- [ ] 检查了测试集特有信息

**潜在泄漏特征：**
```
特征名          泄漏类型            处理
________        ID/未来/目标        删除
________        ID/未来/目标        删除
```

**数据泄漏风险：**
- [ ] 高风险（发现明确泄漏）❌
- [ ] 中风险（可疑特征）⚠️
- [ ] 低风险（无明显泄漏）✅

### 5.2 时间序列特性（如果适用）

- [ ] 数据是否有时间顺序？
- [ ] 是否存在时间趋势？
- [ ] 是否存在季节性？
- [ ] 划分数据时是否考虑了时间顺序？

**时间特性：**
- [ ] 存在时间趋势
- [ ] 存在季节性
- [ ] 需要时间窗口特征
- [ ] 不适用（非时间序列）

### 5.3 业务逻辑验证

- [ ] 数值范围符合业务常识？
- [ ] 特征关系符合业务逻辑？
- [ ] 异常模式有业务解释？
- [ ] 与领域专家讨论了数据？

**业务异常：**
```
异常描述: _______________
业务解释: _______________
处理方案: _______________
```

---

## 📝 第六部分：最终报告

### 6.1 问题总结

**严重问题（必须处理）：**
1. _______________
2. _______________
3. _______________

**中等问题（建议处理）：**
1. _______________
2. _______________
3. _______________

**轻微问题（可选处理）：**
1. _______________
2. _______________

### 6.2 处理计划

**立即执行：**
- [ ] _______________
- [ ] _______________
- [ ] _______________

**后续执行：**
- [ ] _______________
- [ ] _______________

### 6.3 潜在风险

**数据风险：**
- [ ] 数据量不足
- [ ] 数据质量差
- [ ] 数据泄漏
- [ ] 其他: _______________

**模型风险：**
- [ ] 过拟合风险（高维小样本）
- [ ] 欠拟合风险（数据简单）
- [ ] 不平衡风险
- [ ] 其他: _______________

### 6.4 下一步行动

- [ ] 数据清洗（预处理）
- [ ] 特征工程
- [ ] 选择基线模型
- [ ] 其他: _______________

---

## ✅ 最终确认

- [ ] 所有检查项都已完成
- [ ] 所有问题都有处理方案
- [ ] 生成了诊断报告文档
- [ ] 与团队/导师讨论了诊断结果
- [ ] 准备好进入下一阶段（数据预处理）

---

## 📊 诊断完成度评分

统计打勾的项目数量：

```
完成项数: ______ / 总项数: ______
完成度: ______%
```

**评分标准：**
- 90-100%: 优秀 ✅ 诊断非常全面
- 70-89%: 良好 ✓  诊断较为全面
- 50-69%: 及格 ⚠️  有遗漏，建议补充
- <50%: 不及格 ❌ 诊断不够充分

---

## 📎 附加检查（特殊场景）

### 图像数据
- [ ] 图像尺寸是否一致？
- [ ] 图像质量是否合格？
- [ ] 是否存在损坏图像？
- [ ] 类别分布是否平衡？

### 文本数据
- [ ] 文本长度分布？
- [ ] 是否需要分词？
- [ ] 是否需要去停用词？
- [ ] 是否存在特殊字符？

### 时间序列数据
- [ ] 采样频率是否一致？
- [ ] 是否存在缺失时间点？
- [ ] 是否存在趋势和季节性？
- [ ] 是否需要差分？

---

**诊断日期：** __________
**诊断人员：** __________
**项目名称：** __________

---

**完成检查后，进入下一章：** [02_问题定义指南](../02_problem_definition_guide/)
