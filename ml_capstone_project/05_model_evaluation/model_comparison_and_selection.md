# ğŸ”€ æ¨¡å‹æ¯”è¾ƒä¸é€‰æ‹©æŒ‡å—

> **æ ¸å¿ƒç›®æ ‡**ï¼šç³»ç»ŸåŒ–åœ°æ¯”è¾ƒå¤šä¸ªå€™é€‰æ¨¡å‹ï¼Œæä¾›ç»¼åˆå†³ç­–æ¡†æ¶

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

**é€‚ç”¨æƒ…å†µï¼š**
- âœ… å·²è®­ç»ƒå¥½3-5ä¸ªå€™é€‰æ¨¡å‹
- âœ… éœ€è¦ç³»ç»ŸåŒ–åœ°æ¯”è¾ƒå’Œé€‰æ‹©æœ€ä½³æ–¹æ¡ˆ
- âœ… éœ€è€ƒè™‘æ€§èƒ½ã€é€Ÿåº¦ã€å¤æ‚åº¦ç­‰å¤šä¸ªç»´åº¦

**å‰ç½®æ¡ä»¶ï¼š**
- å·²é€‰å®šè¯„ä¼°æŒ‡æ ‡ï¼ˆ[02_é—®é¢˜å®šä¹‰](../02_problem_definition_guide/)ï¼‰
- å·²è®­ç»ƒå¥½å€™é€‰æ¨¡å‹ï¼ˆ[03_ç®—æ³•é€‰æ‹©](../03_algorithm_selection_matrix/)ï¼‰

---

## ğŸ“‹ ç›®å½•

1. [**å¿«é€Ÿå†³ç­–æµç¨‹å›¾**](#å¿«é€Ÿå†³ç­–æµç¨‹å›¾) â­
2. [æ¨¡å‹æ¯”è¾ƒæ¡†æ¶](#æ¨¡å‹æ¯”è¾ƒæ¡†æ¶)
3. [äº¤å‰éªŒè¯ç­–ç•¥](#äº¤å‰éªŒè¯ç­–ç•¥)
4. [æ¨¡å‹é€‰æ‹©å†³ç­–æ ‘è¯¦è§£](#æ¨¡å‹é€‰æ‹©å†³ç­–æ ‘è¯¦è§£)
5. [å®æˆ˜æ¡ˆä¾‹](#å®æˆ˜æ¡ˆä¾‹)
6. [ä»£ç å®ç°](#ä»£ç å®ç°)

---

## å¿«é€Ÿå†³ç­–æµç¨‹å›¾

### æ¨¡å‹é€‰æ‹©å¯è§†åŒ–å†³ç­–æ ‘ â­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å§‹ï¼šæœ‰å¤šä¸ªå€™é€‰æ¨¡å‹ï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â“ æ­¥éª¤1ï¼šæ€§èƒ½å·®å¼‚æ˜¯å¦æ˜¾è‘—ï¼Ÿ                                   â”‚
â”‚  â€¢ è®¡ç®—ä¸»è¦æŒ‡æ ‡çš„å·®è·ï¼ˆå¦‚AUCã€RMSEç­‰ï¼‰                          â”‚
â”‚  â€¢ é˜ˆå€¼ï¼šå·®è· > 0.05 è®¤ä¸ºæ˜¾è‘—                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                    â”‚
         â”‚ æ˜¯ï¼ˆå·®è· > 0.05ï¼‰                 â”‚ å¦ï¼ˆå·®è· â‰¤ 0.05ï¼‰
         â†“                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… é€‰æ‹©æ€§èƒ½æœ€å¥½çš„æ¨¡å‹   â”‚      â”‚  ç»§ç»­ â†’ æ­¥éª¤2                   â”‚
â”‚  â€¢ ç¡®è®¤CVæ ‡å‡†å·® < 0.05  â”‚      â”‚  ï¼ˆæ€§èƒ½ç›¸è¿‘ï¼Œè€ƒè™‘å…¶ä»–å› ç´ ï¼‰     â”‚
â”‚  â€¢ è®°å½•é€‰æ‹©ç†ç”±          â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â†“
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚  â“ æ­¥éª¤2ï¼šæ˜¯å¦æœ‰å®æ—¶æ€§è¦æ±‚ï¼Ÿ           â”‚
                                 â”‚  â€¢ æ¨ç†å»¶è¿Ÿé™åˆ¶ï¼ˆå¦‚ < 100msï¼‰           â”‚
                                 â”‚  â€¢ åœ¨çº¿é¢„æµ‹ vs ç¦»çº¿æ‰¹é‡é¢„æµ‹             â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚                      â”‚
                                        â”‚ æ˜¯                   â”‚ å¦
                                        â†“                      â†“
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  âœ… é€‰æ‹©æ¨ç†æœ€å¿«çš„æ¨¡å‹   â”‚   â”‚  ç»§ç»­ â†’ æ­¥éª¤3  â”‚
                         â”‚  â€¢ LR > DT > RF > XGB   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚  â€¢ æµ‹è¯•å•æ ·æœ¬æ¨ç†æ—¶é—´    â”‚            â†“
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                        â”‚  â“ æ­¥éª¤3ï¼šå¯è§£é‡Šæ€§è¦æ±‚ï¼Ÿ       â”‚
                                                        â”‚  â€¢ éœ€å‘å®¢æˆ·/ç›‘ç®¡éƒ¨é—¨è§£é‡Šï¼Ÿ      â”‚
                                                        â”‚  â€¢ éœ€å‘ä¸šåŠ¡éƒ¨é—¨è§£é‡Šï¼Ÿ           â”‚
                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚               â”‚            â”‚
                                                          â”‚ é«˜            â”‚ ä¸­         â”‚ ä½
                                                          â†“               â†“            â†“
                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                          â”‚  âœ… é€‰æ‹©çº¿æ€§/æ ‘æ¨¡å‹â”‚  â”‚  âœ… ä½¿ç”¨SHAP â”‚  â”‚ ç»§ç»­â†’æ­¥éª¤4â”‚
                                          â”‚  â€¢ LR > DT > RF   â”‚  â”‚  â€¢ RF/XGB   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â†“
                                                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                            â”‚  â“ æ­¥éª¤4ï¼šèµ„æºé™åˆ¶ï¼Ÿ    â”‚
                                                                            â”‚  â€¢ å†…å­˜/CPU/å­˜å‚¨é™åˆ¶ï¼Ÿ   â”‚
                                                                            â”‚  â€¢ è¾¹ç¼˜è®¾å¤‡/ç§»åŠ¨ç«¯éƒ¨ç½²ï¼Ÿ â”‚
                                                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                              â”‚              â”‚
                                                                              â”‚ æ˜¯           â”‚ å¦
                                                                              â†“              â†“
                                                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                  â”‚  âœ… é€‰æ‹©æ›´ç®€å•   â”‚  â”‚  ç»§ç»­ â†’ æ­¥éª¤5  â”‚
                                                                  â”‚     çš„æ¨¡å‹       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                  â”‚  â€¢ æ£€æŸ¥æ¨¡å‹å¤§å°  â”‚         â†“
                                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                                        â”‚  â“ æ­¥éª¤5ï¼šç¨³å®šæ€§ï¼Ÿ â”‚
                                                                                        â”‚  â€¢ æ¯”è¾ƒCVæ ‡å‡†å·®     â”‚
                                                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                                 â†“
                                                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                                        â”‚  âœ… é€‰æ‹©CV Std     â”‚
                                                                                        â”‚     æœ€å°çš„æ¨¡å‹      â”‚
                                                                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å†³ç­–æƒé‡å‚è€ƒ

| å†³ç­–å› ç´  | ä¼˜å…ˆçº§ | é€‚ç”¨åœºæ™¯ | å…¸å‹é˜ˆå€¼/æ ‡å‡† |
|----------|--------|----------|---------------|
| **æ€§èƒ½å·®è·** | â­â­â­â­â­ æœ€é«˜ | æ‰€æœ‰åœºæ™¯ | å·®è· > 0.05 ä¼˜å…ˆé€‰é«˜æ€§èƒ½ |
| **å®æ—¶æ€§** | â­â­â­â­ é«˜ | åœ¨çº¿é¢„æµ‹ã€ç”¨æˆ·äº¤äº’ | < 100ms ä¸¥æ ¼å®æ—¶<br>< 1s å‡†å®æ—¶ |
| **å¯è§£é‡Šæ€§** | â­â­â­â­ é«˜ | é‡‘èã€åŒ»ç–—ã€ç›‘ç®¡è¡Œä¸š | é«˜ï¼šLR/DT<br>ä¸­ï¼šRF/XGB+SHAP |
| **èµ„æºé™åˆ¶** | â­â­â­ ä¸­ | è¾¹ç¼˜è®¾å¤‡ã€ç§»åŠ¨ç«¯ | æ¨¡å‹å¤§å° < 10MB<br>å†…å­˜ < 100MB |
| **ç¨³å®šæ€§** | â­â­â­ ä¸­ | æ€§èƒ½ç›¸è¿‘æ—¶çš„å†³å®šå› ç´  | CV Std < 0.05 |
| **è®­ç»ƒæ—¶é—´** | â­â­ ä½ | é¢‘ç¹é‡è®­ï¼ˆå¦‚æ¯å°æ—¶ï¼‰ | é€šå¸¸ä¸æ˜¯ä¸»è¦å› ç´  |

### å¿«é€Ÿåˆ¤æ–­æŒ‡å—

**åœºæ™¯1ï¼šæ€§èƒ½æ˜æ˜¾ä¼˜åŠ£**
```
æ¨¡å‹A AUC=0.85, æ¨¡å‹B AUC=0.78
å·®è· 0.07 > 0.05 â†’ ç›´æ¥é€‰ æ¨¡å‹A âœ…
```

**åœºæ™¯2ï¼šæ€§èƒ½ç›¸è¿‘ + å®æ—¶æ€§è¦æ±‚**
```
æ¨¡å‹A AUC=0.82 (æ¨ç†2.5ms), æ¨¡å‹B AUC=0.83 (æ¨ç†15ms)
å·®è· 0.01 < 0.05 ä¸” è¦æ±‚<100ms â†’ éƒ½æ»¡è¶³ï¼Œé€‰é«˜æ€§èƒ½çš„æ¨¡å‹B âœ…
å¦‚æœè¦æ±‚<5ms â†’ é€‰ æ¨¡å‹A âœ…
```

**åœºæ™¯3ï¼šæ€§èƒ½ç›¸è¿‘ + é«˜å¯è§£é‡Šæ€§**
```
LR AUC=0.80, XGB AUC=0.82
å·®è· 0.02 < 0.05 ä¸” é‡‘èè¡Œä¸šéœ€è¦è§£é‡Š â†’ é€‰ LR âœ…
```

---

## æ¨¡å‹æ¯”è¾ƒæ¡†æ¶

### 4æ­¥æ ‡å‡†åŒ–æ¯”è¾ƒæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: ç¡®å®šæ¯”è¾ƒç»´åº¦ï¼ˆ15åˆ†é’Ÿï¼‰                                 â”‚
â”‚  â–¸ æ€§èƒ½æŒ‡æ ‡ï¼šä¸»è¦æŒ‡æ ‡ + æ¬¡è¦æŒ‡æ ‡                                â”‚
â”‚  â–¸ æ—¶é—´æ€§èƒ½ï¼šè®­ç»ƒæ—¶é—´ + æ¨ç†æ—¶é—´                                â”‚
â”‚  â–¸ æ¨¡å‹å¤æ‚åº¦ï¼šå‚æ•°æ•°é‡ + æ¨¡å‹å¤§å°                              â”‚
â”‚  â–¸ å¯è§£é‡Šæ€§ï¼šé«˜ï¼ˆLRã€Treeï¼‰â†’ ä½ï¼ˆXGBã€NNï¼‰                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: æ ‡å‡†åŒ–è¯„ä¼°ï¼ˆ30-45åˆ†é’Ÿï¼‰                                â”‚
â”‚  â–¸ ä½¿ç”¨ç›¸åŒçš„æ•°æ®é›†åˆ’åˆ†                                         â”‚
â”‚  â–¸ ä½¿ç”¨äº¤å‰éªŒè¯ï¼ˆæ¨è5-Foldæˆ–10-Foldï¼‰                         â”‚
â”‚  â–¸ è®°å½•éšæœºç§å­ï¼ˆç¡®ä¿å¯å¤ç°ï¼‰                                   â”‚
â”‚  â–¸ è®¡ç®—å¹³å‡æ€§èƒ½å’Œæ ‡å‡†å·®                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: å¯è§†åŒ–å¯¹æ¯”ï¼ˆ15-30åˆ†é’Ÿï¼‰                                â”‚
â”‚  â–¸ æ€§èƒ½å¯¹æ¯”è¡¨ï¼ˆå¤šæŒ‡æ ‡å¯¹æ¯”ï¼‰                                     â”‚
â”‚  â–¸ å­¦ä¹ æ›²çº¿å¯¹æ¯”ï¼ˆéšæ ·æœ¬é‡å˜åŒ–ï¼‰                                 â”‚
â”‚  â–¸ æ—¶é—´-æ€§èƒ½æƒè¡¡å›¾                                              â”‚
â”‚  â–¸ é›·è¾¾å›¾ï¼ˆå¤šç»´åº¦ç»¼åˆå¯¹æ¯”ï¼‰                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ç»¼åˆå†³ç­–ï¼ˆ15-30åˆ†é’Ÿï¼‰                                  â”‚
â”‚  â–¸ ä½¿ç”¨æ¨¡å‹é€‰æ‹©å†³ç­–æ ‘                                           â”‚
â”‚  â–¸ è€ƒè™‘ä¸šåŠ¡çº¦æŸï¼ˆå®æ—¶æ€§ã€å¯è§£é‡Šæ€§ã€èµ„æºï¼‰                      â”‚
â”‚  â–¸ é€‰æ‹©æœ€ç»ˆæ¨¡å‹                                                  â”‚
â”‚  â–¸ è®°å½•é€‰æ‹©ç†ç”±                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¯”è¾ƒç»´åº¦è¯¦è§£

#### ç»´åº¦1ï¼šæ€§èƒ½æŒ‡æ ‡

| ç»´åº¦ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **ä¸»è¦æŒ‡æ ‡** | ä¸ä¸šåŠ¡ç›®æ ‡ç›´æ¥ç›¸å…³ | AUCï¼ˆå®¢æˆ·æµå¤±é¢„æµ‹ï¼‰ |
| **æ¬¡è¦æŒ‡æ ‡** | è¾…åŠ©è¯„ä¼°ï¼Œå¤šè§’åº¦éªŒè¯ | Precision@10%, Recall |
| **CVå‡å€¼** | äº¤å‰éªŒè¯å¹³å‡å€¼ | CV AUC = 0.78 |
| **CVæ ‡å‡†å·®** | è¡¡é‡ç¨³å®šæ€§ | CV Std = 0.02ï¼ˆè¶Šå°è¶Šç¨³å®šï¼‰ |

**é‡è¦æç¤º**ï¼šæ€§èƒ½å·®è· < 0.05 æ—¶ï¼Œè®¤ä¸º"æ€§èƒ½ç›¸è¿‘"ï¼Œéœ€è€ƒè™‘å…¶ä»–ç»´åº¦ã€‚

---

#### ç»´åº¦2ï¼šæ—¶é—´æ€§èƒ½

| æ—¶é—´ç±»å‹ | è¯´æ˜ | é‡è¦æ€§ |
|----------|------|--------|
| **è®­ç»ƒæ—¶é—´** | æ¨¡å‹è®­ç»ƒæ‰€éœ€æ—¶é—´ | ä½ï¼ˆé€šå¸¸ä¸€æ¬¡æ€§ï¼‰ |
| **æ¨ç†æ—¶é—´** | å•æ¬¡é¢„æµ‹æ‰€éœ€æ—¶é—´ | â­â­â­ é«˜ï¼ˆå®æ—¶ç³»ç»Ÿï¼‰ |
| **è¶…å‚æ•°è°ƒä¼˜æ—¶é—´** | ç½‘æ ¼æœç´¢/è´å¶æ–¯ä¼˜åŒ–æ—¶é—´ | ä¸­ï¼ˆä¸€æ¬¡æ€§ï¼‰ |

**å®æ—¶æ€§è¦æ±‚æ˜ å°„**ï¼š
- ä¸¥æ ¼å®æ—¶ï¼ˆ< 50msï¼‰ï¼šçº¿æ€§æ¨¡å‹ã€å†³ç­–æ ‘
- å‡†å®æ—¶ï¼ˆ< 1sï¼‰ï¼šéšæœºæ£®æ—ã€XGBoost
- ç¦»çº¿é¢„æµ‹ï¼ˆæ— é™åˆ¶ï¼‰ï¼šä»»æ„æ¨¡å‹

---

#### ç»´åº¦3ï¼šæ¨¡å‹å¤æ‚åº¦

| å¤æ‚åº¦æŒ‡æ ‡ | è¯´æ˜ | å½±å“ |
|------------|------|------|
| **å‚æ•°æ•°é‡** | æ¨¡å‹æƒé‡/å‚æ•°æ€»æ•° | å½±å“è®­ç»ƒé€Ÿåº¦å’Œå†…å­˜ |
| **æ¨¡å‹å¤§å°** | åºåˆ—åŒ–åæ–‡ä»¶å¤§å° | å½±å“éƒ¨ç½²ï¼ˆè¾¹ç¼˜è®¾å¤‡ï¼‰ |
| **ä¾èµ–åº“** | æ‰€éœ€ç¬¬ä¸‰æ–¹åº“ | å½±å“éƒ¨ç½²éš¾åº¦ |

---

#### ç»´åº¦4ï¼šå¯è§£é‡Šæ€§

| æ¨¡å‹ | å¯è§£é‡Šæ€§ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|----------|------|----------|
| **çº¿æ€§å›å½’/é€»è¾‘å›å½’** | â­â­â­â­â­ æé«˜ | æƒé‡ç›´æ¥è§£é‡Š | é‡‘èã€åŒ»ç–— |
| **å†³ç­–æ ‘** | â­â­â­â­ é«˜ | è§„åˆ™ç›´è§‚ | éœ€è¦å‘å®¢æˆ·è§£é‡Š |
| **éšæœºæ£®æ—** | â­â­â­ ä¸­ | ç‰¹å¾é‡è¦æ€§ + SHAP | ä¸€èˆ¬ä¸šåŠ¡ |
| **XGBoost/LightGBM** | â­â­ ä¸­ä½ | SHAPè§£é‡Š | ç«èµ›ã€æ€§èƒ½ä¼˜å…ˆ |
| **ç¥ç»ç½‘ç»œ** | â­ ä½ | é»‘ç›’ï¼Œéœ€ä¸“é—¨å·¥å…· | æ€§èƒ½ä¼˜å…ˆã€ä¸è¦æ±‚è§£é‡Š |

---

## äº¤å‰éªŒè¯ç­–ç•¥

### ä¸ºä»€ä¹ˆéœ€è¦äº¤å‰éªŒè¯ï¼Ÿ

**é—®é¢˜**ï¼šå•ä¸€è®­ç»ƒ/æµ‹è¯•åˆ’åˆ†å¯èƒ½ä¸å¤Ÿå¯é 
- è¿æ°”å¥½ï¼šæµ‹è¯•é›†æ°å¥½ç®€å• â†’ é«˜ä¼°æ€§èƒ½
- è¿æ°”åï¼šæµ‹è¯•é›†æ°å¥½å›°éš¾ â†’ ä½ä¼°æ€§èƒ½

**è§£å†³**ï¼šäº¤å‰éªŒè¯ä½¿ç”¨å¤šæ¬¡åˆ’åˆ†ï¼Œå–å¹³å‡å€¼ â†’ æ›´ç¨³å®šã€å¯é 

---

### K-Fold äº¤å‰éªŒè¯ï¼ˆæœ€å¸¸ç”¨ï¼‰

**åŸç†**ï¼š
```
å°†æ•°æ®åˆ†æˆKä»½ï¼ˆé€šå¸¸K=5æˆ–10ï¼‰
æ¯ä»½è½®æµä½œä¸ºæµ‹è¯•é›†ï¼Œå…¶ä½™ä½œä¸ºè®­ç»ƒé›†

ç¤ºä¾‹ï¼ˆK=5ï¼‰ï¼š
Fold 1: [Test][Train][Train][Train][Train]
Fold 2: [Train][Test][Train][Train][Train]
Fold 3: [Train][Train][Test][Train][Train]
Fold 4: [Train][Train][Train][Test][Train]
Fold 5: [Train][Train][Train][Train][Test]

æœ€ç»ˆæ€§èƒ½ = 5æ¬¡æµ‹è¯•çš„å¹³å‡å€¼
```

**ä»£ç å®ç°**ï¼š
```python
from sklearn.model_selection import cross_val_score
import numpy as np

# K-Foldäº¤å‰éªŒè¯ï¼ˆK=5ï¼‰
cv_scores = cross_val_score(
    model, X, y,
    cv=5,                    # 5æŠ˜äº¤å‰éªŒè¯
    scoring='roc_auc',       # è¯„ä¼°æŒ‡æ ‡
    n_jobs=-1                # å¹¶è¡Œè¿ç®—
)

# è¾“å‡ºç»“æœ
print(f"CV AUC: {cv_scores.mean():.3f} Â± {cv_scores.std():.3f}")
print(f"5-Fold scores: {cv_scores}")

# è¾“å‡ºç¤ºä¾‹ï¼š
# CV AUC: 0.782 Â± 0.018
# 5-Fold scores: [0.765, 0.798, 0.771, 0.805, 0.772]
```

**Kå€¼é€‰æ‹©**ï¼š
- K=5ï¼šè®¡ç®—é‡é€‚ä¸­ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼ˆæ¨èï¼‰
- K=10ï¼šæ›´ç¨³å®šï¼Œä½†è®¡ç®—é‡2å€
- K=æ ·æœ¬æ•°ï¼ˆLOOCVï¼‰ï¼šå°æ•°æ®é›†ï¼ˆ< 100æ ·æœ¬ï¼‰

---

### Stratified K-Foldï¼ˆä¸å¹³è¡¡æ•°æ®ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼šæ™®é€šK-Foldå¯èƒ½å¯¼è‡´æŸäº›foldç±»åˆ«æ¯”ä¾‹å¤±è¡¡

**åŸç†**ï¼šä¿æŒæ¯ä¸ªfoldä¸­çš„ç±»åˆ«æ¯”ä¾‹ä¸åŸå§‹æ•°æ®ä¸€è‡´

**ä»£ç å®ç°**ï¼š
```python
from sklearn.model_selection import cross_val_score, StratifiedKFold

# Stratified K-Foldï¼ˆä¿æŒç±»åˆ«æ¯”ä¾‹ï¼‰
skf = StratifiedKFold(n_splits=5, shuffle=True, random_state=42)

cv_scores = cross_val_score(
    model, X, y,
    cv=skf,                  # ä½¿ç”¨Stratified K-Fold
    scoring='roc_auc'
)

print(f"Stratified CV AUC: {cv_scores.mean():.3f} Â± {cv_scores.std():.3f}")
```

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… åˆ†ç±»é—®é¢˜ä¸”æ•°æ®ä¸å¹³è¡¡ï¼ˆå¦‚1:10æˆ–æ›´ä¸¥é‡ï¼‰
- âœ… å¤šåˆ†ç±»é—®é¢˜

---

### Time Series Splitï¼ˆæ—¶é—´åºåˆ—ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼šæ—¶é—´åºåˆ—æ•°æ®æœ‰é¡ºåºä¾èµ–ï¼Œä¸èƒ½éšæœºæ‰“ä¹±

**åŸç†**ï¼š
```
ä¿æŒæ—¶é—´é¡ºåºï¼Œé€æ­¥å¢åŠ è®­ç»ƒé›†
æµ‹è¯•é›†å§‹ç»ˆåœ¨è®­ç»ƒé›†ä¹‹å

ç¤ºä¾‹ï¼š
Fold 1: [Train         ][Test]
Fold 2: [Train              ][Test]
Fold 3: [Train                   ][Test]
Fold 4: [Train                        ][Test]
```

**ä»£ç å®ç°**ï¼š
```python
from sklearn.model_selection import TimeSeriesSplit

# Time Series Split
tscv = TimeSeriesSplit(n_splits=5)

cv_scores = []
for train_idx, test_idx in tscv.split(X):
    X_train, X_test = X[train_idx], X[test_idx]
    y_train, y_test = y[train_idx], y[test_idx]

    model.fit(X_train, y_train)
    score = model.score(X_test, y_test)
    cv_scores.append(score)

print(f"Time Series CV: {np.mean(cv_scores):.3f} Â± {np.std(cv_scores):.3f}")
```

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… æ—¶é—´åºåˆ—æ•°æ®ï¼ˆè‚¡ç¥¨ã€é”€é‡é¢„æµ‹ï¼‰
- âœ… æœ‰æ—¶é—´é¡ºåºä¾èµ–çš„æ•°æ®

---

### äº¤å‰éªŒè¯ç­–ç•¥é€ŸæŸ¥è¡¨

| æ•°æ®ç±»å‹ | æ¨èæ–¹æ³• | Kå€¼ | ä»£ç  |
|----------|----------|-----|------|
| **ä¸€èˆ¬æ•°æ®** | K-Fold | 5æˆ–10 | `cross_val_score(cv=5)` |
| **ä¸å¹³è¡¡æ•°æ®** | Stratified K-Fold | 5æˆ–10 | `cross_val_score(cv=StratifiedKFold(5))` |
| **æ—¶é—´åºåˆ—** | Time Series Split | 5 | `cross_val_score(cv=TimeSeriesSplit(5))` |
| **å°æ•°æ®é›†** | Leave-One-Out | n | `cross_val_score(cv=LeaveOneOut())` |

---

## æ¨¡å‹é€‰æ‹©å†³ç­–æ ‘è¯¦è§£

### å®Œæ•´å†³ç­–æµç¨‹ï¼ˆè¯¦ç»†ç‰ˆï¼‰

```
å¤šä¸ªå€™é€‰æ¨¡å‹ï¼Œå¦‚ä½•é€‰æ‹©æœ€ç»ˆæ¨¡å‹ï¼Ÿ
    â”‚
    â”œâ”€ Step 1: æ€§èƒ½å·®å¼‚æ˜¾è‘—å—ï¼Ÿ
    â”‚   â”‚
    â”‚   â”œâ”€ æ˜¯ï¼ˆä¸»è¦æŒ‡æ ‡ç›¸å·® > 0.05ï¼‰
    â”‚   â”‚   â””â”€â†’ é€‰æ‹©æ€§èƒ½æœ€å¥½çš„æ¨¡å‹ âœ…
    â”‚   â”‚       â””â”€ ç¡®è®¤ï¼šCVæ ‡å‡†å·®åˆç†ï¼ˆ< 0.05ï¼‰
    â”‚   â”‚
    â”‚   â””â”€ å¦ï¼ˆæ€§èƒ½ç›¸è¿‘ï¼Œå·®è· < 0.05ï¼‰â†’ ç»§ç»­Step 2
    â”‚
    â”œâ”€ Step 2: æœ‰å®æ—¶æ€§è¦æ±‚å—ï¼Ÿ
    â”‚   â”‚
    â”‚   â”œâ”€ æ˜¯ï¼ˆæ¨ç†å»¶è¿Ÿ < 100msï¼‰
    â”‚   â”‚   â””â”€â†’ åœ¨æ€§èƒ½ç›¸è¿‘çš„æ¨¡å‹ä¸­ï¼Œé€‰æ‹©æ¨ç†æœ€å¿«çš„ âœ…
    â”‚   â”‚       â€¢ çº¿æ€§æ¨¡å‹ > å†³ç­–æ ‘ > éšæœºæ£®æ— > XGBoost
    â”‚   â”‚
    â”‚   â””â”€ å¦ â†’ ç»§ç»­Step 3
    â”‚
    â”œâ”€ Step 3: éœ€è¦å¯è§£é‡Šæ€§å—ï¼Ÿ
    â”‚   â”‚
    â”‚   â”œâ”€ é«˜ï¼ˆéœ€è¦å‘å®¢æˆ·æˆ–ç›‘ç®¡éƒ¨é—¨è§£é‡Šï¼‰
    â”‚   â”‚   â””â”€â†’ é€‰æ‹©å¯è§£é‡Šæ€§æœ€é«˜çš„æ¨¡å‹ âœ…
    â”‚   â”‚       â€¢ çº¿æ€§æ¨¡å‹ > å†³ç­–æ ‘ > éšæœºæ£®æ— > XGBoost
    â”‚   â”‚
    â”‚   â”œâ”€ ä¸­ï¼ˆéœ€è¦å‘ä¸šåŠ¡éƒ¨é—¨è§£é‡Šï¼‰
    â”‚   â”‚   â””â”€â†’ ä½¿ç”¨SHAPè§£é‡ŠXGBoost/éšæœºæ£®æ— âœ…
    â”‚   â”‚
    â”‚   â””â”€ ä½ï¼ˆæ€§èƒ½ä¼˜å…ˆï¼‰â†’ ç»§ç»­Step 4
    â”‚
    â”œâ”€ Step 4: æœ‰èµ„æºé™åˆ¶å—ï¼Ÿ
    â”‚   â”‚
    â”‚   â”œâ”€ æ˜¯ï¼ˆå†…å­˜/è®¡ç®—èµ„æºå—é™ï¼‰
    â”‚   â”‚   â””â”€â†’ é€‰æ‹©æ›´ç®€å•çš„æ¨¡å‹ âœ…
    â”‚   â”‚       â€¢ æ£€æŸ¥æ¨¡å‹å¤§å°ã€å†…å­˜å ç”¨
    â”‚   â”‚
    â”‚   â””â”€ å¦ â†’ ç»§ç»­Step 5
    â”‚
    â””â”€ Step 5: è¿½æ±‚ç¨³å®šæ€§ï¼Ÿ
        â”‚
        â””â”€â†’ é€‰æ‹©CVæ ‡å‡†å·®æœ€å°çš„æ¨¡å‹ âœ…
            â€¢ æ›´ç¨³å®š = åœ¨ä¸åŒæ•°æ®ä¸Šè¡¨ç°ä¸€è‡´
```

---

### å†³ç­–æƒé‡å‚è€ƒ

| å†³ç­–å› ç´  | æƒé‡ | è¯´æ˜ |
|----------|------|------|
| **æ€§èƒ½å·®è·** | â­â­â­â­â­ | å·®è·>0.05æ—¶ï¼Œä¼˜å…ˆé€‰æ€§èƒ½é«˜çš„ |
| **å®æ—¶æ€§è¦æ±‚** | â­â­â­â­ | ä¸¥æ ¼å®æ—¶ç³»ç»Ÿå¿…é¡»æ»¡è¶³ |
| **å¯è§£é‡Šæ€§è¦æ±‚** | â­â­â­â­ | é‡‘èã€åŒ»ç–—ç­‰è¡Œä¸šå¼ºåˆ¶è¦æ±‚ |
| **èµ„æºé™åˆ¶** | â­â­â­ | è¾¹ç¼˜è®¾å¤‡ã€ç§»åŠ¨ç«¯éœ€è€ƒè™‘ |
| **ç¨³å®šæ€§ï¼ˆCV Stdï¼‰** | â­â­â­ | æ€§èƒ½ç›¸è¿‘æ—¶çš„æ¬¡è¦è€ƒè™‘ |
| **è®­ç»ƒæ—¶é—´** | â­â­ | é€šå¸¸ä¸€æ¬¡æ€§ï¼Œä¸æ˜¯ä¸»è¦å› ç´  |

---

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šå®¢æˆ·æµå¤±é¢„æµ‹ï¼ˆ5ä¸ªæ¨¡å‹å¯¹æ¯”ï¼‰

**èƒŒæ™¯**ï¼š
- é—®é¢˜ï¼šäºŒåˆ†ç±»ï¼ˆæµå¤±/ä¸æµå¤±ï¼‰
- æ•°æ®ï¼š10000æ ·æœ¬ï¼Œ15ç‰¹å¾ï¼Œæµå¤±ç‡15%ï¼ˆä¸å¹³è¡¡ï¼‰
- ä¸»è¦æŒ‡æ ‡ï¼šAUC
- æ¬¡è¦æŒ‡æ ‡ï¼šRecall@10%
- çº¦æŸï¼šæ¯æœˆé‡æ–°è®­ç»ƒï¼Œå¯æ¥å—è¾ƒé•¿è®­ç»ƒæ—¶é—´ï¼›æ¨ç†ç¦»çº¿ï¼Œæ— å®æ—¶æ€§è¦æ±‚

**å€™é€‰æ¨¡å‹**ï¼š
1. Logistic Regression
2. Random Forest
3. XGBoost
4. LightGBM
5. SVM

---

#### Step 1: æ ‡å‡†åŒ–è¯„ä¼°

```python
from sklearn.model_selection import cross_val_score, StratifiedKFold
import time

models = {
    'Logistic Regression': LogisticRegression(),
    'Random Forest': RandomForestClassifier(),
    'XGBoost': XGBClassifier(),
    'LightGBM': LGBMClassifier(),
    'SVM': SVC(probability=True)
}

results = []
skf = StratifiedKFold(n_splits=5, shuffle=True, random_state=42)

for name, model in models.items():
    # æ€§èƒ½è¯„ä¼°
    start_time = time.time()
    cv_scores = cross_val_score(model, X, y, cv=skf, scoring='roc_auc')
    train_time = time.time() - start_time

    # æ¨ç†æ—¶é—´ï¼ˆå•æ ·æœ¬ï¼‰
    model.fit(X_train, y_train)
    start_time = time.time()
    _ = model.predict_proba(X_test[:1])
    inference_time = (time.time() - start_time) * 1000  # è½¬ä¸ºms

    results.append({
        'Model': name,
        'CV AUC': cv_scores.mean(),
        'CV Std': cv_scores.std(),
        'Train Time (s)': train_time,
        'Inference (ms)': inference_time
    })

# ç»“æœè¡¨æ ¼
import pandas as pd
df_results = pd.DataFrame(results).sort_values('CV AUC', ascending=False)
print(df_results)
```

---

#### Step 2: ç»“æœå¯¹æ¯”

| Model | CV AUC | CV Std | Train Time (s) | Inference (ms) |
|-------|--------|--------|----------------|----------------|
| **XGBoost** | **0.782** | 0.018 | 12.5 | 2.3 |
| **LightGBM** | **0.780** | 0.015 | 8.2 | 1.8 |
| **Random Forest** | **0.778** | 0.021 | 15.3 | 3.1 |
| SVM | 0.765 | 0.023 | 45.2 | 15.7 |
| Logistic Regression | 0.735 | 0.019 | 0.8 | 0.2 |

---

#### Step 3: ç»¼åˆå†³ç­–

**åˆ†æ**ï¼š
1. **æ€§èƒ½**ï¼šXGBoostã€LightGBMã€RF æ€§èƒ½ç›¸è¿‘ï¼ˆ0.778-0.782ï¼Œå·®è·<0.05ï¼‰
2. **ç¨³å®šæ€§**ï¼šLightGBMæœ€ç¨³å®šï¼ˆStd=0.015ï¼‰
3. **é€Ÿåº¦**ï¼šLightGBMè®­ç»ƒå’Œæ¨ç†éƒ½æœ€å¿«
4. **å®æ—¶æ€§**ï¼šæ— è¦æ±‚ï¼ˆç¦»çº¿é¢„æµ‹ï¼‰
5. **å¯è§£é‡Šæ€§**ï¼šä¸­ç­‰è¦æ±‚ï¼ˆéœ€å‘ä¸šåŠ¡éƒ¨é—¨è§£é‡Šï¼‰

**å†³ç­–æµç¨‹**ï¼š
```
æ€§èƒ½ç›¸è¿‘ï¼ˆ0.778-0.782ï¼‰
    â†“
æ— å®æ—¶æ€§è¦æ±‚ â†’ è·³è¿‡
    â†“
å¯è§£é‡Šæ€§ä¸­ç­‰ â†’ LightGBM/XGBoostå¯ç”¨SHAPè§£é‡Š
    â†“
æ— èµ„æºé™åˆ¶ â†’ è·³è¿‡
    â†“
è¿½æ±‚ç¨³å®šæ€§ â†’ LightGBM Stdæœ€å°ï¼ˆ0.015ï¼‰
    â†“
âœ… é€‰æ‹© LightGBM
```

**é€‰æ‹©ç†ç”±**ï¼š
- âœ… æ€§èƒ½ä¼˜ç§€ï¼ˆAUC=0.780ï¼Œä»…æ¯”æœ€ä½³å·®0.002ï¼‰
- âœ… æœ€ç¨³å®šï¼ˆCV Std=0.015ï¼‰
- âœ… è®­ç»ƒå’Œæ¨ç†éƒ½æœ€å¿«
- âœ… å¯ä½¿ç”¨SHAPè§£é‡Šï¼ˆæ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼‰

---

### æ¡ˆä¾‹2ï¼šæˆ¿ä»·é¢„æµ‹ï¼ˆ3ä¸ªæ¨¡å‹å¯¹æ¯”ï¼‰

**èƒŒæ™¯**ï¼š
- é—®é¢˜ï¼šå›å½’ï¼ˆé¢„æµ‹æˆ¿ä»·ï¼‰
- æ•°æ®ï¼š5000æ ·æœ¬ï¼Œ10ç‰¹å¾
- ä¸»è¦æŒ‡æ ‡ï¼šMAPE
- çº¦æŸï¼šåœ¨çº¿é¢„æµ‹ï¼Œæ¨ç†å»¶è¿Ÿ < 100msï¼›éœ€è¦å‘å®¢æˆ·è§£é‡Šå®šä»·ä¾æ®

**å€™é€‰æ¨¡å‹**ï¼š
1. Linear Regression
2. Ridge Regression
3. XGBoost

---

#### ç»“æœå¯¹æ¯”

| Model | CV MAPE (%) | CV Std | Train Time (s) | Inference (ms) | å¯è§£é‡Šæ€§ |
|-------|-------------|--------|----------------|----------------|----------|
| Ridge | 8.2 | 0.5 | 0.1 | 0.3 | â­â­â­â­â­ |
| Linear Regression | 8.5 | 0.6 | 0.1 | 0.3 | â­â­â­â­â­ |
| XGBoost | 7.8 | 0.4 | 5.2 | 2.1 | â­â­ |

---

#### ç»¼åˆå†³ç­–

**åˆ†æ**ï¼š
1. **æ€§èƒ½**ï¼šXGBoostæœ€å¥½ï¼ˆ7.8%ï¼‰ï¼Œä½†ä¸Ridgeå·®è·ä»…0.4%
2. **å®æ—¶æ€§**ï¼šè¦æ±‚ < 100msï¼Œæ‰€æœ‰æ¨¡å‹éƒ½æ»¡è¶³
3. **å¯è§£é‡Šæ€§**ï¼š**é«˜è¦æ±‚**ï¼ˆéœ€å‘å®¢æˆ·è§£é‡Šï¼‰â†’ çº¿æ€§æ¨¡å‹ä¼˜åŠ¿æ˜æ˜¾

**å†³ç­–æµç¨‹**ï¼š
```
æ€§èƒ½å·®è·å°ï¼ˆ7.8% vs 8.2%ï¼Œå·®è·0.4%ï¼‰
    â†“
å®æ—¶æ€§ï¼šéƒ½æ»¡è¶³ < 100ms
    â†“
å¯è§£é‡Šæ€§ï¼šé«˜è¦æ±‚ â†’ Ridgeæƒé‡ç›´è§‚å¯è§£é‡Š
    â†“
âœ… é€‰æ‹© Ridge Regression
```

**é€‰æ‹©ç†ç”±**ï¼š
- âœ… æ€§èƒ½ä¼˜ç§€ï¼ˆMAPE=8.2%ï¼Œä¸XGBoostå·®è·å°ï¼‰
- âœ… æ¨ç†æå¿«ï¼ˆ0.3msï¼‰
- âœ… **å¯è§£é‡Šæ€§æé«˜**ï¼ˆæƒé‡ç›´æ¥è§£é‡Šç‰¹å¾å½±å“ï¼‰
- âœ… å¯å‘å®¢æˆ·å±•ç¤ºï¼š"æ‚¨çš„æˆ¿å­å› ä¸ºé¢ç§¯å¤§åŠ Xä¸‡ï¼Œå› ä¸ºæˆ¿é¾„æ—§å‡Yä¸‡"

**æƒè¡¡**ï¼šç‰ºç‰²0.4%çš„æ€§èƒ½ï¼Œæ¢å–é«˜å¯è§£é‡Šæ€§å’Œæå¿«æ¨ç†é€Ÿåº¦

---

## ä»£ç å®ç°

### å®Œæ•´çš„æ¨¡å‹æ¯”è¾ƒå‡½æ•°

```python
from sklearn.model_selection import cross_val_score, StratifiedKFold
import pandas as pd
import time
import numpy as np

def compare_models(models, X, y, cv=5, scoring='roc_auc', problem_type='classification'):
    """
    ç³»ç»ŸåŒ–åœ°æ¯”è¾ƒå¤šä¸ªæ¨¡å‹

    å‚æ•°ï¼š
        models: å­—å…¸ï¼Œ{model_name: model_object}
        X: ç‰¹å¾çŸ©é˜µ
        y: ç›®æ ‡å˜é‡
        cv: äº¤å‰éªŒè¯æŠ˜æ•°
        scoring: è¯„ä¼°æŒ‡æ ‡
        problem_type: 'classification' æˆ– 'regression'

    è¿”å›ï¼š
        df_results: åŒ…å«æ‰€æœ‰å¯¹æ¯”ç»“æœçš„DataFrame
    """
    from sklearn.model_selection import train_test_split

    # åˆ†å‰²æ•°æ®ï¼ˆç”¨äºæµ‹è¯•æ¨ç†æ—¶é—´ï¼‰
    X_train, X_test, y_train, y_test = train_test_split(
        X, y, test_size=0.2, random_state=42
    )

    # é€‰æ‹©äº¤å‰éªŒè¯ç­–ç•¥
    if problem_type == 'classification':
        cv_strategy = StratifiedKFold(n_splits=cv, shuffle=True, random_state=42)
    else:
        cv_strategy = cv

    results = []

    for name, model in models.items():
        print(f"è¯„ä¼° {name}...")

        # 1. äº¤å‰éªŒè¯è¯„ä¼°æ€§èƒ½
        start_time = time.time()
        cv_scores = cross_val_score(model, X, y, cv=cv_strategy, scoring=scoring, n_jobs=-1)
        train_time = time.time() - start_time

        # 2. æµ‹è¯•æ¨ç†æ—¶é—´
        model.fit(X_train, y_train)
        start_time = time.time()
        _ = model.predict(X_test[:1])  # å•æ ·æœ¬æ¨ç†
        inference_time = (time.time() - start_time) * 1000  # ms

        # 3. æ¨¡å‹å¤æ‚åº¦
        n_params = sum(p.size for p in model.get_params().values() if hasattr(p, 'size'))

        results.append({
            'Model': name,
            f'CV {scoring}': cv_scores.mean(),
            'CV Std': cv_scores.std(),
            'Train Time (s)': round(train_time, 2),
            'Inference (ms)': round(inference_time, 3),
            'Params': n_params
        })

    # è½¬ä¸ºDataFrameå¹¶æ’åº
    df_results = pd.DataFrame(results).sort_values(f'CV {scoring}', ascending=False)

    return df_results

# ä½¿ç”¨ç¤ºä¾‹
models = {
    'Logistic Regression': LogisticRegression(),
    'Random Forest': RandomForestClassifier(n_estimators=100),
    'XGBoost': XGBClassifier(),
    'LightGBM': LGBMClassifier()
}

df_comparison = compare_models(
    models, X, y,
    cv=5,
    scoring='roc_auc',
    problem_type='classification'
)

print(df_comparison)
```

---

### å¯è§†åŒ–å¯¹æ¯”

```python
import matplotlib.pyplot as plt

def plot_model_comparison(df_results, metric_col='CV roc_auc'):
    """
    å¯è§†åŒ–æ¨¡å‹å¯¹æ¯”

    å‚æ•°ï¼š
        df_results: compare_models() çš„è¾“å‡º
        metric_col: æ€§èƒ½æŒ‡æ ‡åˆ—å
    """
    fig, axes = plt.subplots(1, 3, figsize=(15, 4))

    # 1. æ€§èƒ½å¯¹æ¯”ï¼ˆå¸¦è¯¯å·®æ£’ï¼‰
    axes[0].barh(df_results['Model'], df_results[metric_col])
    axes[0].set_xlabel(metric_col.replace('CV ', ''))
    axes[0].set_title('Performance Comparison')
    axes[0].grid(axis='x', alpha=0.3)

    # 2. è®­ç»ƒæ—¶é—´å¯¹æ¯”
    axes[1].barh(df_results['Model'], df_results['Train Time (s)'])
    axes[1].set_xlabel('Train Time (seconds)')
    axes[1].set_title('Training Time Comparison')
    axes[1].grid(axis='x', alpha=0.3)

    # 3. æ¨ç†æ—¶é—´å¯¹æ¯”
    axes[2].barh(df_results['Model'], df_results['Inference (ms)'])
    axes[2].set_xlabel('Inference Time (ms)')
    axes[2].set_title('Inference Time Comparison')
    axes[2].grid(axis='x', alpha=0.3)

    plt.tight_layout()
    plt.show()

# ä½¿ç”¨
plot_model_comparison(df_comparison)
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **æŒ‡æ ‡è®¡ç®—é€ŸæŸ¥**ï¼š[metrics_calculation_guide.md](metrics_calculation_guide.md)
- **è¿‡æ‹Ÿåˆè¯Šæ–­ä¸æ”¹è¿›**ï¼š[overfitting_diagnosis_guide.md](overfitting_diagnosis_guide.md)
- **ä¸šåŠ¡ä»·å€¼è½¬åŒ–**ï¼š[business_value_translation.md](business_value_translation.md)
- **ä»£ç å®ç°**ï¼šsrc/model_evaluation.py - `compare_models()` å‡½æ•°

**sklearnå®˜æ–¹æ–‡æ¡£**ï¼š
- [äº¤å‰éªŒè¯æŒ‡å—](https://scikit-learn.org/stable/modules/cross_validation.html)
- [æ¨¡å‹é€‰æ‹©æ–¹æ³•](https://scikit-learn.org/stable/model_selection.html)

---

**æœ€åæ›´æ–°**ï¼š2024å¹´11æœˆ
