2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO -                          客户流失预测系统
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 阶段 1/7: 数据加载
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 加载训练数据
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 数据加载成功: 7043 行 × 21 列
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
验证数据质量...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   流失率: 26.54%
2025-11-12 15:35:03 - ChurnPrediction - INFO - ✓ 数据验证通过
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
数据加载完成:
2025-11-12 15:35:03 - ChurnPrediction - INFO -   样本数量: 7,043
2025-11-12 15:35:03 - ChurnPrediction - INFO -   特征数量: 21
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
目标变量分布:
2025-11-12 15:35:03 - ChurnPrediction - INFO -   No: 5,174 (73.46%)
2025-11-12 15:35:03 - ChurnPrediction - INFO -   Yes: 1,869 (26.54%)
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 阶段 2/7: 数据预处理
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 数据预处理
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
1. 删除ID列...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   删除列: ['customerID']
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
2. 转换数据类型...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   内存优化: 0.57MB -> 0.57MB (减少0.0%)
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
3. 处理TotalCharges列...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   检测到object类型，转换为数值...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   发现 11 个缺失值
2025-11-12 15:35:03 - ChurnPrediction - INFO -   缺失值对应的tenure: {0: 11}
2025-11-12 15:35:03 - ChurnPrediction - INFO -   新客户(11个): 用MonthlyCharges填充
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
4. 处理缺失值...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   ✓ 无缺失值
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
5. 检查重复行...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   发现 22 行重复数据 (0.31%)
2025-11-12 15:35:03 - ChurnPrediction - INFO -   删除后: 7,021 行
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
6. 异常值检测与移除 (方法: iqr)...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   检测列: ['SeniorCitizen', 'tenure', 'MonthlyCharges', 'TotalCharges']
2025-11-12 15:35:03 - ChurnPrediction - INFO -   异常值统计:
2025-11-12 15:35:03 - ChurnPrediction - INFO -     SeniorCitizen: 1141 个 (16.25%)
2025-11-12 15:35:03 - ChurnPrediction - INFO -   总计移除 1141 行 (16.25%)
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
7. 数据验证...
2025-11-12 15:35:03 - ChurnPrediction - INFO -   ✓ 数据验证通过
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
预处理完成:
2025-11-12 15:35:03 - ChurnPrediction - INFO -   原始数据: 7,043 行 × 21 列
2025-11-12 15:35:03 - ChurnPrediction - INFO -   清洗后: 5,880 行 × 20 列
2025-11-12 15:35:03 - ChurnPrediction - INFO -   保留率: 83.49%
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
数据预处理完成:
2025-11-12 15:35:03 - ChurnPrediction - INFO -   清洗后样本数: 5,880
2025-11-12 15:35:03 - ChurnPrediction - INFO -   数据保留率: 83.49%
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
清洗后目标变量分布:
2025-11-12 15:35:03 - ChurnPrediction - INFO -   No: 4,498 (76.50%)
2025-11-12 15:35:03 - ChurnPrediction - INFO -   Yes: 1,382 (23.50%)
2025-11-12 15:35:03 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:35:03 - ChurnPrediction - INFO - 阶段 3/7: 探索性数据分析 (EDA)
2025-11-12 15:35:03 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:10 - ChurnPrediction - INFO - 
EDA可视化报告已生成
2025-11-12 15:35:10 - ChurnPrediction - INFO -   图表保存位置: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda
2025-11-12 15:35:10 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:35:10 - ChurnPrediction - INFO - 阶段 4/7: 特征工程
2025-11-12 15:35:10 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:10 - ChurnPrediction - INFO - 
特征工程完成:
2025-11-12 15:35:10 - ChurnPrediction - INFO -   原始特征数: 20
2025-11-12 15:35:10 - ChurnPrediction - INFO -   工程后特征数: 61
2025-11-12 15:35:10 - ChurnPrediction - INFO - 
分离特征和目标变量...
2025-11-12 15:35:10 - ChurnPrediction - INFO -   目标变量: Churn
2025-11-12 15:35:10 - ChurnPrediction - INFO -     - 样本数: 5,880
2025-11-12 15:35:10 - ChurnPrediction - INFO -     - 类别分布: {0: 4498, 1: 1382}
2025-11-12 15:35:10 - ChurnPrediction - INFO -   特征矩阵: (5880, 60)
2025-11-12 15:35:11 - ChurnPrediction - INFO -   最终建模特征数: 20
2025-11-12 15:35:11 - ChurnPrediction - INFO -   目标变量: Churn
2025-11-12 15:35:11 - ChurnPrediction - INFO -   样本总数: 5,880
2025-11-12 15:35:11 - ChurnPrediction - INFO - 
前10个特征:
2025-11-12 15:35:11 - ChurnPrediction - INFO -    1. tenure
2025-11-12 15:35:11 - ChurnPrediction - INFO -    2. MonthlyCharges
2025-11-12 15:35:11 - ChurnPrediction - INFO -    3. TotalCharges
2025-11-12 15:35:11 - ChurnPrediction - INFO -    4. TenureSquared
2025-11-12 15:35:11 - ChurnPrediction - INFO -    5. TenureLog
2025-11-12 15:35:11 - ChurnPrediction - INFO -    6. IsNewCustomer
2025-11-12 15:35:11 - ChurnPrediction - INFO -    7. AvgMonthlyCharges
2025-11-12 15:35:11 - ChurnPrediction - INFO -    8. ChargeTenureRatio
2025-11-12 15:35:11 - ChurnPrediction - INFO -    9. MonthlyChargesLog
2025-11-12 15:35:11 - ChurnPrediction - INFO -   10. IsMonthToMonth
2025-11-12 15:35:11 - ChurnPrediction - INFO -   ... 还有 10 个特征
2025-11-12 15:35:11 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:35:11 - ChurnPrediction - INFO - 阶段 5/7: 模型训练
2025-11-12 15:35:11 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:35:11 - ChurnPrediction - INFO - 
训练集大小: 4,704
2025-11-12 15:35:11 - ChurnPrediction - INFO - 测试集大小: 1,176
2025-11-12 15:35:11 - ChurnPrediction - INFO - SMOTE处理后训练集大小: 7,196
2025-11-12 15:35:11 - ChurnPrediction - INFO -   类别0: 3,598
2025-11-12 15:35:11 - ChurnPrediction - INFO -   类别1: 3,598
2025-11-12 15:35:11 - ChurnPrediction - INFO - 
开始训练所有模型...
2025-11-12 15:35:11 - ChurnPrediction - INFO -   超参数调优: 开启
2025-11-12 15:35:11 - ChurnPrediction - INFO -   包含XGBoost: 是
2025-11-12 15:35:11 - ChurnPrediction - INFO -   包含LightGBM: 是
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
--------------------------------------------------------------------------------
2025-11-12 15:36:08 - ChurnPrediction - INFO - 模型性能对比
2025-11-12 15:36:08 - ChurnPrediction - INFO - --------------------------------------------------------------------------------
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:36:08 - ChurnPrediction - INFO - 全量重训练模式
2025-11-12 15:36:08 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:36:08 - ChurnPrediction - INFO - 使用全部训练数据重新训练最佳模型...
2025-11-12 15:36:08 - ChurnPrediction - INFO - 这可以充分利用所有数据以获得更好的泛化性能
2025-11-12 15:36:08 - ChurnPrediction - INFO - 最佳模型已使用全部数据重新训练
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
--------------------------------------------------------------------------------
2025-11-12 15:36:08 - ChurnPrediction - INFO - 保存模型
2025-11-12 15:36:08 - ChurnPrediction - INFO - --------------------------------------------------------------------------------
2025-11-12 15:36:08 - ChurnPrediction - INFO - 最佳模型已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/churn_model_best.pkl
2025-11-12 15:36:08 - ChurnPrediction - INFO - 模型元数据已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/metadata.json
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:36:08 - ChurnPrediction - INFO - 阶段 6/7: 模型评估
2025-11-12 15:36:08 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
模型评估完成
2025-11-12 15:36:08 - ChurnPrediction - INFO - 
生成评估可视化报告...
2025-11-12 15:36:13 - ChurnPrediction - INFO -   评估图表保存位置: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:36:13 - ChurnPrediction - INFO - 阶段 7/7: 结果总结
2025-11-12 15:36:13 - ChurnPrediction - INFO - ================================================================================
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
最佳模型: LogisticRegression
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
性能指标:
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Accuracy:  0.7696
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Precision: 0.5061
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Recall:    0.7572
2025-11-12 15:36:13 - ChurnPrediction - INFO -   F1 Score:  0.6067
2025-11-12 15:36:13 - ChurnPrediction - INFO -   ROC-AUC:   0.8315
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
目标达成情况:
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Accuracy  > 0.80: ✗ 未达成
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Precision > 0.75: ✗ 未达成
2025-11-12 15:36:13 - ChurnPrediction - INFO -   Recall    > 0.70: ✓ 达成
2025-11-12 15:36:13 - ChurnPrediction - INFO -   F1 Score  > 0.72: ✗ 未达成
2025-11-12 15:36:13 - ChurnPrediction - INFO -   ROC-AUC   > 0.85: ✗ 未达成
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
输出文件:
2025-11-12 15:36:13 - ChurnPrediction - INFO -   最佳模型: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/churn_model_best.pkl
2025-11-12 15:36:13 - ChurnPrediction - INFO -   模型元数据: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/metadata.json
2025-11-12 15:36:13 - ChurnPrediction - INFO -   图表目录: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures
2025-11-12 15:36:13 - ChurnPrediction - INFO -   日志文件: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/logs/churn_prediction.log
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
业务洞察:
2025-11-12 15:36:13 - ChurnPrediction - INFO -   模型可以帮助识别高流失风险客户
2025-11-12 15:36:13 - ChurnPrediction - INFO -   预测准确率: 76.96%
2025-11-12 15:36:13 - ChurnPrediction - INFO -   召回率: 75.72% (能识别出的实际流失客户比例)
2025-11-12 15:36:13 - ChurnPrediction - INFO -   精确率: 50.61% (预测为流失的客户中真正流失的比例)
2025-11-12 15:36:13 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 15:36:13 - ChurnPrediction - INFO - 项目执行完成！
2025-11-12 15:36:13 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO -                          客户流失预测系统
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 阶段 1/7: 数据加载
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 加载训练数据
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 数据加载成功: 7043 行 × 21 列
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
验证数据质量...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   流失率: 26.54%
2025-11-12 17:15:40 - ChurnPrediction - INFO - ✓ 数据验证通过
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
数据加载完成:
2025-11-12 17:15:40 - ChurnPrediction - INFO -   样本数量: 7,043
2025-11-12 17:15:40 - ChurnPrediction - INFO -   特征数量: 21
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
目标变量分布:
2025-11-12 17:15:40 - ChurnPrediction - INFO -   No: 5,174 (73.46%)
2025-11-12 17:15:40 - ChurnPrediction - INFO -   Yes: 1,869 (26.54%)
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 阶段 2/7: 数据预处理
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 数据预处理
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
1. 删除ID列...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   删除列: ['customerID']
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
2. 转换数据类型...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   内存优化: 0.57MB -> 0.57MB (减少0.0%)
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
3. 处理TotalCharges列...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   检测到object类型，转换为数值...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   发现 11 个缺失值
2025-11-12 17:15:40 - ChurnPrediction - INFO -   缺失值对应的tenure: {0: 11}
2025-11-12 17:15:40 - ChurnPrediction - INFO -   新客户(11个): 用MonthlyCharges填充
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
4. 处理缺失值...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   ✓ 无缺失值
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
5. 检查重复行...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   发现 22 行重复数据 (0.31%)
2025-11-12 17:15:40 - ChurnPrediction - INFO -   删除后: 7,021 行
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
6. 异常值检测与移除 (方法: iqr)...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   检测列: ['SeniorCitizen', 'tenure', 'MonthlyCharges', 'TotalCharges']
2025-11-12 17:15:40 - ChurnPrediction - INFO -   异常值统计:
2025-11-12 17:15:40 - ChurnPrediction - INFO -     SeniorCitizen: 1141 个 (16.25%)
2025-11-12 17:15:40 - ChurnPrediction - INFO -   总计移除 1141 行 (16.25%)
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
7. 数据验证...
2025-11-12 17:15:40 - ChurnPrediction - INFO -   ✓ 数据验证通过
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
预处理完成:
2025-11-12 17:15:40 - ChurnPrediction - INFO -   原始数据: 7,043 行 × 21 列
2025-11-12 17:15:40 - ChurnPrediction - INFO -   清洗后: 5,880 行 × 20 列
2025-11-12 17:15:40 - ChurnPrediction - INFO -   保留率: 83.49%
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
数据预处理完成:
2025-11-12 17:15:40 - ChurnPrediction - INFO -   清洗后样本数: 5,880
2025-11-12 17:15:40 - ChurnPrediction - INFO -   数据保留率: 83.49%
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
清洗后目标变量分布:
2025-11-12 17:15:40 - ChurnPrediction - INFO -   No: 4,498 (76.50%)
2025-11-12 17:15:40 - ChurnPrediction - INFO -   Yes: 1,382 (23.50%)
2025-11-12 17:15:40 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 阶段 3/7: 探索性数据分析 (EDA)
2025-11-12 17:15:40 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 创建EDA可视化报告
2025-11-12 17:15:40 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:40 - ChurnPrediction - INFO - 绘制类别分布图: 客户流失分布
2025-11-12 17:15:41 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/class_distribution.png
2025-11-12 17:15:41 - ChurnPrediction - INFO - 绘制特征分布图: 数值特征分布_batch1
2025-11-12 17:15:45 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/numeric_features_batch1.png
2025-11-12 17:15:45 - ChurnPrediction - INFO - 绘制特征分布图: 分类特征分布_batch1
2025-11-12 17:15:46 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/categorical_features_batch1.png
2025-11-12 17:15:46 - ChurnPrediction - INFO - 绘制特征分布图: 分类特征分布_batch2
2025-11-12 17:15:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/categorical_features_batch2.png
2025-11-12 17:15:47 - ChurnPrediction - INFO - 绘制特征分布图: 分类特征分布_batch3
2025-11-12 17:15:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/categorical_features_batch3.png
2025-11-12 17:15:47 - ChurnPrediction - INFO - 绘制相关性热力图: 特征相关性分析
2025-11-12 17:15:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda/correlation_heatmap.png
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
EDA报告已生成，保存至: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
EDA可视化报告已生成
2025-11-12 17:15:47 - ChurnPrediction - INFO -   图表保存位置: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/eda
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:15:47 - ChurnPrediction - INFO - 阶段 4/7: 特征工程
2025-11-12 17:15:47 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:47 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:47 - ChurnPrediction - INFO - 开始特征工程
2025-11-12 17:15:47 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建在网时长特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: TenureGroup
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: TenureSquared
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: TenureLog
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsNewCustomer
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsLongTermCustomer
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建费用特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: AvgMonthlyCharges
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: ChargeGrowthRate
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: MonthlyChargesGroup
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsHighCharges
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: ChargeTenureRatio
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: MonthlyChargesLog
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建服务特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: TotalServices (基于 9 个服务)
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: HasInternet
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: HasPhone
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: SecurityServices
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: StreamingServices
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建合同特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsMonthToMonth
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsLongTermContract
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsAutoPayment
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: IsPaperlessBilling
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建人口统计学特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: HasFamily
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: FamilySize
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: SeniorAlone
2025-11-12 17:15:47 - ChurnPrediction - INFO - 创建交互特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: TenureMonthlyCharges
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: ServicesCharges
2025-11-12 17:15:47 - ChurnPrediction - INFO -   创建特征: ChargesPerService
2025-11-12 17:15:47 - ChurnPrediction - INFO - 编码二值特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   目标变量 'Churn' 已编码: Yes=1, No=0
2025-11-12 17:15:47 - ChurnPrediction - INFO -   gender: Male=1, Female=0
2025-11-12 17:15:47 - ChurnPrediction - INFO -   SeniorCitizen: 已是数值型 (0/1)
2025-11-12 17:15:47 - ChurnPrediction - INFO -   Partner: Yes=1, No=0
2025-11-12 17:15:47 - ChurnPrediction - INFO -   Dependents: Yes=1, No=0
2025-11-12 17:15:47 - ChurnPrediction - INFO -   PhoneService: Yes=1, No=0
2025-11-12 17:15:47 - ChurnPrediction - INFO -   PaperlessBilling: Yes=1, No=0
2025-11-12 17:15:47 - ChurnPrediction - INFO - 使用 onehot 编码多分类特征...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   MultipleLines: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   InternetService: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   OnlineSecurity: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   OnlineBackup: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   DeviceProtection: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   TechSupport: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   StreamingTV: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   StreamingMovies: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   Contract: 创建 2 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   PaymentMethod: 创建 3 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   TenureGroup: 创建 3 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO -   MonthlyChargesGroup: 创建 3 个虚拟变量
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
特征工程完成！
2025-11-12 17:15:47 - ChurnPrediction - INFO - 最终特征数量: 61
2025-11-12 17:15:47 - ChurnPrediction - INFO - 数据形状: (5880, 61)
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
特征工程完成:
2025-11-12 17:15:47 - ChurnPrediction - INFO -   原始特征数: 20
2025-11-12 17:15:47 - ChurnPrediction - INFO -   工程后特征数: 61
2025-11-12 17:15:47 - ChurnPrediction - INFO - 
分离特征和目标变量...
2025-11-12 17:15:47 - ChurnPrediction - INFO -   目标变量: Churn
2025-11-12 17:15:47 - ChurnPrediction - INFO -     - 样本数: 5,880
2025-11-12 17:15:47 - ChurnPrediction - INFO -     - 类别分布: {0: 4498, 1: 1382}
2025-11-12 17:15:47 - ChurnPrediction - INFO -   特征矩阵: (5880, 60)
2025-11-12 17:15:47 - ChurnPrediction - INFO - 使用 mutual_info 进行特征选择...
2025-11-12 17:15:47 - ChurnPrediction - INFO - 从 60 个特征中选择 top 20 个
2025-11-12 17:15:48 - ChurnPrediction - INFO - 已选择 20 个特征
2025-11-12 17:15:48 - ChurnPrediction - INFO - Top 10 特征: ['tenure', 'MonthlyCharges', 'TotalCharges', 'TenureSquared', 'TenureLog', 'IsNewCustomer', 'IsLongTermCustomer', 'ChargeTenureRatio', 'MonthlyChargesLog', 'HasInternet']
2025-11-12 17:15:48 - ChurnPrediction - INFO -   最终建模特征数: 20
2025-11-12 17:15:48 - ChurnPrediction - INFO -   目标变量: Churn
2025-11-12 17:15:48 - ChurnPrediction - INFO -   样本总数: 5,880
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
前10个特征:
2025-11-12 17:15:48 - ChurnPrediction - INFO -    1. tenure
2025-11-12 17:15:48 - ChurnPrediction - INFO -    2. MonthlyCharges
2025-11-12 17:15:48 - ChurnPrediction - INFO -    3. TotalCharges
2025-11-12 17:15:48 - ChurnPrediction - INFO -    4. TenureSquared
2025-11-12 17:15:48 - ChurnPrediction - INFO -    5. TenureLog
2025-11-12 17:15:48 - ChurnPrediction - INFO -    6. IsNewCustomer
2025-11-12 17:15:48 - ChurnPrediction - INFO -    7. IsLongTermCustomer
2025-11-12 17:15:48 - ChurnPrediction - INFO -    8. ChargeTenureRatio
2025-11-12 17:15:48 - ChurnPrediction - INFO -    9. MonthlyChargesLog
2025-11-12 17:15:48 - ChurnPrediction - INFO -   10. HasInternet
2025-11-12 17:15:48 - ChurnPrediction - INFO -   ... 还有 10 个特征
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - 阶段 5/7: 模型训练
2025-11-12 17:15:48 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - 准备训练数据
2025-11-12 17:15:48 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - 训练集大小: (4704, 20)
2025-11-12 17:15:48 - ChurnPrediction - INFO - 测试集大小: (1176, 20)
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
训练集类别分布:
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别 0: 3598 (76.49%)
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别 1: 1106 (23.51%)
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
应用SMOTE处理类别不平衡...
2025-11-12 17:15:48 - ChurnPrediction - INFO - SMOTE后训练集大小: (7196, 20)
2025-11-12 17:15:48 - ChurnPrediction - INFO - SMOTE后类别分布:
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别 0: 3598 (50.00%)
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别 1: 3598 (50.00%)
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
训练集大小: 4,704
2025-11-12 17:15:48 - ChurnPrediction - INFO - 测试集大小: 1,176
2025-11-12 17:15:48 - ChurnPrediction - INFO - SMOTE处理后训练集大小: 7,196
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别0: 3,598
2025-11-12 17:15:48 - ChurnPrediction - INFO -   类别1: 3,598
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
开始训练所有模型...
2025-11-12 17:15:48 - ChurnPrediction - INFO -   超参数调优: 开启
2025-11-12 17:15:48 - ChurnPrediction - INFO -   包含XGBoost: 是
2025-11-12 17:15:48 - ChurnPrediction - INFO -   包含LightGBM: 是
2025-11-12 17:15:48 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - 开始训练所有模型
2025-11-12 17:15:48 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:15:48 - ChurnPrediction - INFO - 
训练逻辑回归模型...
2025-11-12 17:15:50 - ChurnPrediction - INFO - 最佳参数: {'penalty': 'l2', 'max_iter': 1000, 'C': 10.0}
2025-11-12 17:15:50 - ChurnPrediction - INFO - 
LogisticRegression 评估结果:
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Accuracy:  0.7577
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Precision: 0.4897
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Recall:    0.7717
2025-11-12 17:15:50 - ChurnPrediction - INFO -   F1 Score:  0.5992
2025-11-12 17:15:50 - ChurnPrediction - INFO -   ROC AUC:   0.8328
2025-11-12 17:15:50 - ChurnPrediction - INFO - 
训练决策树模型...
2025-11-12 17:15:50 - ChurnPrediction - INFO - 最佳参数: {'max_depth': 5, 'min_samples_leaf': 2, 'min_samples_split': 2}
2025-11-12 17:15:50 - ChurnPrediction - INFO - 
DecisionTree 评估结果:
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Accuracy:  0.7509
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Precision: 0.4796
2025-11-12 17:15:50 - ChurnPrediction - INFO -   Recall:    0.7246
2025-11-12 17:15:50 - ChurnPrediction - INFO -   F1 Score:  0.5772
2025-11-12 17:15:50 - ChurnPrediction - INFO -   ROC AUC:   0.8219
2025-11-12 17:15:50 - ChurnPrediction - INFO - 
训练随机森林模型...
2025-11-12 17:15:58 - ChurnPrediction - INFO - 最佳参数: {'n_estimators': 300, 'min_samples_split': 2, 'min_samples_leaf': 1, 'max_depth': 30}
2025-11-12 17:15:58 - ChurnPrediction - INFO - 
RandomForest 评估结果:
2025-11-12 17:15:58 - ChurnPrediction - INFO -   Accuracy:  0.7764
2025-11-12 17:15:58 - ChurnPrediction - INFO -   Precision: 0.5225
2025-11-12 17:15:58 - ChurnPrediction - INFO -   Recall:    0.5471
2025-11-12 17:15:58 - ChurnPrediction - INFO -   F1 Score:  0.5345
2025-11-12 17:15:58 - ChurnPrediction - INFO -   ROC AUC:   0.7952
2025-11-12 17:15:58 - ChurnPrediction - INFO - 
训练梯度提升模型...
2025-11-12 17:16:18 - ChurnPrediction - INFO - 最佳参数: {'subsample': 1.0, 'n_estimators': 200, 'max_depth': 7, 'learning_rate': 0.3}
2025-11-12 17:16:18 - ChurnPrediction - INFO - 
GradientBoosting 评估结果:
2025-11-12 17:16:18 - ChurnPrediction - INFO -   Accuracy:  0.7670
2025-11-12 17:16:18 - ChurnPrediction - INFO -   Precision: 0.5035
2025-11-12 17:16:18 - ChurnPrediction - INFO -   Recall:    0.5217
2025-11-12 17:16:18 - ChurnPrediction - INFO -   F1 Score:  0.5125
2025-11-12 17:16:18 - ChurnPrediction - INFO -   ROC AUC:   0.7936
2025-11-12 17:16:18 - ChurnPrediction - INFO - 
训练XGBoost模型...
2025-11-12 17:16:20 - ChurnPrediction - INFO - 最佳参数: {'subsample': 0.9, 'n_estimators': 200, 'max_depth': 7, 'learning_rate': 0.1, 'colsample_bytree': 1.0}
2025-11-12 17:16:20 - ChurnPrediction - INFO - 
XGBoost 评估结果:
2025-11-12 17:16:20 - ChurnPrediction - INFO -   Accuracy:  0.7832
2025-11-12 17:16:20 - ChurnPrediction - INFO -   Precision: 0.5335
2025-11-12 17:16:20 - ChurnPrediction - INFO -   Recall:    0.6051
2025-11-12 17:16:20 - ChurnPrediction - INFO -   F1 Score:  0.5671
2025-11-12 17:16:20 - ChurnPrediction - INFO -   ROC AUC:   0.8100
2025-11-12 17:16:20 - ChurnPrediction - INFO - 
训练LightGBM模型...
2025-11-12 17:16:42 - ChurnPrediction - INFO - 最佳参数: {'subsample': 1.0, 'num_leaves': 100, 'n_estimators': 300, 'max_depth': 7, 'learning_rate': 0.1}
2025-11-12 17:16:42 - ChurnPrediction - INFO - 
LightGBM 评估结果:
2025-11-12 17:16:42 - ChurnPrediction - INFO -   Accuracy:  0.7840
2025-11-12 17:16:42 - ChurnPrediction - INFO -   Precision: 0.5359
2025-11-12 17:16:42 - ChurnPrediction - INFO -   Recall:    0.5942
2025-11-12 17:16:42 - ChurnPrediction - INFO -   F1 Score:  0.5636
2025-11-12 17:16:42 - ChurnPrediction - INFO -   ROC AUC:   0.8072
2025-11-12 17:16:42 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:42 - ChurnPrediction - INFO - 所有模型训练完成！
2025-11-12 17:16:42 - ChurnPrediction - INFO - 最佳模型: LogisticRegression
2025-11-12 17:16:42 - ChurnPrediction - INFO - 最佳 ROC_AUC: 0.8328
2025-11-12 17:16:42 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:42 - ChurnPrediction - INFO - 
--------------------------------------------------------------------------------
2025-11-12 17:16:42 - ChurnPrediction - INFO - 模型性能对比
2025-11-12 17:16:42 - ChurnPrediction - INFO - --------------------------------------------------------------------------------
2025-11-12 17:16:42 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:16:42 - ChurnPrediction - INFO - 全量重训练模式
2025-11-12 17:16:42 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:16:42 - ChurnPrediction - INFO - 使用全部训练数据重新训练最佳模型...
2025-11-12 17:16:42 - ChurnPrediction - INFO - 这可以充分利用所有数据以获得更好的泛化性能
2025-11-12 17:16:42 - ChurnPrediction - INFO - 
使用全部数据重新训练最佳模型: LogisticRegression
2025-11-12 17:16:42 - ChurnPrediction - INFO -   训练样本数: 5,880
2025-11-12 17:16:42 - ChurnPrediction - INFO -   应用SMOTE处理类别不平衡...
2025-11-12 17:16:42 - ChurnPrediction - INFO -   SMOTE后样本数: 8,996
2025-11-12 17:16:43 - ChurnPrediction - INFO - LogisticRegression 已使用全部数据重新训练完成
2025-11-12 17:16:43 - ChurnPrediction - INFO - 最佳模型已使用全部数据重新训练
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
--------------------------------------------------------------------------------
2025-11-12 17:16:43 - ChurnPrediction - INFO - 保存模型
2025-11-12 17:16:43 - ChurnPrediction - INFO - --------------------------------------------------------------------------------
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
最佳模型已保存:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   模型: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/churn_model_best.pkl
2025-11-12 17:16:43 - ChurnPrediction - INFO -   元数据: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/metadata.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 最佳模型已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/churn_model_best.pkl
2025-11-12 17:16:43 - ChurnPrediction - INFO - 模型元数据已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/metadata.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 阶段 6/7: 模型评估
2025-11-12 17:16:43 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估所有模型
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: LogisticRegression
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 LogisticRegression 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 LogisticRegression (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7751
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5160
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.6980
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5934
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8356
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5972
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.7988
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 LogisticRegression (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7755
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5155
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.7246
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.6024
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8305
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.6092
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.7911
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         712         188
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:          76         200
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 200 (72.46%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 188 (20.89%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 712 (79.11%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 76 (27.54%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.90      0.79      0.84       900
           1       0.52      0.72      0.60       276

    accuracy                           0.78      1176
   macro avg       0.71      0.76      0.72      1176
weighted avg       0.81      0.78      0.79      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.8305
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.4910
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.7428, FPR: 0.2178
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.6092
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.5292
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.5376, Recall: 0.6993
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.6079
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 LogisticRegression 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. PaymentMethod_Electronic check: 1.5667 (累积: 31.02%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. IsLongTermContract: 1.5372 (累积: 61.45%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. InternetService_Fiber optic: 0.8787 (累积: 78.85%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. Contract_Two year: 0.3440 (累积: 85.66%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. IsMonthToMonth: 0.1882 (累积: 89.38%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. TenureLog: 0.1568 (累积: 92.49%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. IsLongTermCustomer: 0.0773 (累积: 94.02%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. MonthlyChargesLog: 0.0724 (累积: 95.45%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. IsNewCustomer: 0.0561 (累积: 96.56%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. ChargeTenureRatio: 0.0375 (累积: 97.30%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. MonthlyCharges: 0.0373 (累积: 98.04%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. tenure: 0.0270 (累积: 98.58%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. OnlineSecurity_No internet service: 0.0240 (累积: 99.05%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. StreamingTV_No internet service: 0.0240 (累积: 99.53%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. HasInternet: 0.0182 (累积: 99.89%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. ChargesPerService: 0.0040 (累积: 99.97%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. TotalCharges: 0.0008 (累积: 99.98%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. TenureMonthlyCharges: 0.0005 (累积: 99.99%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. TenureSquared: 0.0003 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. ServicesCharges: 0.0001 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LogisticRegression_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: DecisionTree
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 DecisionTree 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 DecisionTree (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7713
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5095
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.7251
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5985
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8376
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5793
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.7854
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 DecisionTree (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7509
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.4796
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.7246
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5772
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8219
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5514
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.7589
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         683         217
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:          76         200
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 200 (72.46%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 217 (24.11%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 683 (75.89%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 76 (27.54%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.90      0.76      0.82       900
           1       0.48      0.72      0.58       276

    accuracy                           0.75      1176
   macro avg       0.69      0.74      0.70      1176
weighted avg       0.80      0.75      0.77      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.8219
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.3793
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.7790, FPR: 0.2867
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.5514
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.5475
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.4819, Recall: 0.7246
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.5789
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 DecisionTree 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. IsLongTermContract: 0.6135 (累积: 61.35%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. PaymentMethod_Electronic check: 0.1443 (累积: 75.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. InternetService_Fiber optic: 0.0829 (累积: 84.08%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. IsMonthToMonth: 0.0579 (累积: 89.87%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. TenureLog: 0.0375 (累积: 93.61%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. TotalCharges: 0.0291 (累积: 96.52%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. ChargesPerService: 0.0115 (累积: 97.67%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. tenure: 0.0069 (累积: 98.36%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. MonthlyCharges: 0.0059 (累积: 98.95%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. MonthlyChargesLog: 0.0033 (累积: 99.28%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. ChargeTenureRatio: 0.0026 (累积: 99.54%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. Contract_Two year: 0.0021 (累积: 99.75%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. ServicesCharges: 0.0017 (累积: 99.92%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. TenureSquared: 0.0008 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. IsNewCustomer: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. IsLongTermCustomer: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. HasInternet: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. TenureMonthlyCharges: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. OnlineSecurity_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. StreamingTV_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/DecisionTree_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: RandomForest
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 RandomForest 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 RandomForest (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.9930
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.9846
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.9855
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.9851
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.9987
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.9959
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.9953
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 RandomForest (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7764
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5225
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.5471
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5345
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.7952
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5448
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.8467
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         762         138
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:         125         151
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 151 (54.71%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 138 (15.33%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 762 (84.67%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 125 (45.29%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.86      0.85      0.85       900
           1       0.52      0.55      0.53       276

    accuracy                           0.78      1176
   macro avg       0.69      0.70      0.69      1176
weighted avg       0.78      0.78      0.78      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.7952
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.1967
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.8406, FPR: 0.3878
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.5448
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.3148
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.4452, Recall: 0.7065
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.5462
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 RandomForest 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. IsLongTermContract: 0.1236 (累积: 12.36%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. ChargesPerService: 0.0951 (累积: 21.87%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. PaymentMethod_Electronic check: 0.0775 (累积: 29.61%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. TotalCharges: 0.0737 (累积: 36.98%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. TenureMonthlyCharges: 0.0709 (累积: 44.07%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. ChargeTenureRatio: 0.0705 (累积: 51.13%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. MonthlyChargesLog: 0.0676 (累积: 57.89%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. MonthlyCharges: 0.0672 (累积: 64.61%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. TenureLog: 0.0661 (累积: 71.23%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. ServicesCharges: 0.0614 (累积: 77.37%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. tenure: 0.0558 (累积: 82.95%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. InternetService_Fiber optic: 0.0534 (累积: 88.29%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. IsMonthToMonth: 0.0458 (累积: 92.87%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. TenureSquared: 0.0361 (累积: 96.48%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. IsNewCustomer: 0.0127 (累积: 97.75%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. Contract_Two year: 0.0097 (累积: 98.72%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. IsLongTermCustomer: 0.0061 (累积: 99.33%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. OnlineSecurity_No internet service: 0.0022 (累积: 99.56%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. StreamingTV_No internet service: 0.0022 (累积: 99.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. HasInternet: 0.0022 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/RandomForest_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: GradientBoosting
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 GradientBoosting 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 GradientBoosting (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.9928
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.9803
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.9892
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.9847
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.9998
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.9992
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.9939
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 GradientBoosting (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7670
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5035
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.5217
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5125
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.7936
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5344
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.8422
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         758         142
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:         132         144
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 144 (52.17%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 142 (15.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 758 (84.22%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 132 (47.83%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.85      0.84      0.85       900
           1       0.50      0.52      0.51       276

    accuracy                           0.77      1176
   macro avg       0.68      0.68      0.68      1176
weighted avg       0.77      0.77      0.77      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.7936
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.0652
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.8043, FPR: 0.3389
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.5344
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.0652
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.4213, Recall: 0.8043
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.5529
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 GradientBoosting 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. IsLongTermContract: 0.3170 (累积: 31.70%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. TotalCharges: 0.0833 (累积: 40.03%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. PaymentMethod_Electronic check: 0.0808 (累积: 48.12%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. ChargesPerService: 0.0759 (累积: 55.71%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. ChargeTenureRatio: 0.0680 (累积: 62.51%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. TenureMonthlyCharges: 0.0678 (累积: 69.30%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. InternetService_Fiber optic: 0.0440 (累积: 73.69%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. TenureLog: 0.0433 (累积: 78.02%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. ServicesCharges: 0.0416 (累积: 82.18%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. MonthlyChargesLog: 0.0360 (累积: 85.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. MonthlyCharges: 0.0352 (累积: 89.30%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. IsMonthToMonth: 0.0352 (累积: 92.82%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. TenureSquared: 0.0344 (累积: 96.26%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. tenure: 0.0318 (累积: 99.44%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. Contract_Two year: 0.0020 (累积: 99.64%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. IsNewCustomer: 0.0014 (累积: 99.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. StreamingTV_No internet service: 0.0007 (累积: 99.85%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. HasInternet: 0.0006 (累积: 99.91%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. IsLongTermCustomer: 0.0005 (累积: 99.96%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. OnlineSecurity_No internet service: 0.0004 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/GradientBoosting_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: XGBoost
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 XGBoost 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 XGBoost (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.9256
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.8010
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.9096
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.8518
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.9778
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.9264
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.9305
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 XGBoost (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7832
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5335
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.6051
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5671
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8100
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5871
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.8378
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         754         146
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:         109         167
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 167 (60.51%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 146 (16.22%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 754 (83.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 109 (39.49%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.87      0.84      0.86       900
           1       0.53      0.61      0.57       276

    accuracy                           0.78      1176
   macro avg       0.70      0.72      0.71      1176
weighted avg       0.79      0.78      0.79      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.8100
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.3119
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.7174, FPR: 0.2467
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.5871
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.4424
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.5159, Recall: 0.6486
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.5746
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 XGBoost 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. IsLongTermContract: 0.6916 (累积: 69.16%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. InternetService_Fiber optic: 0.0932 (累积: 78.48%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. IsMonthToMonth: 0.0489 (累积: 83.37%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. PaymentMethod_Electronic check: 0.0361 (累积: 86.99%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. IsNewCustomer: 0.0186 (累积: 88.85%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. TenureLog: 0.0177 (累积: 90.61%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. tenure: 0.0119 (累积: 91.81%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. HasInternet: 0.0095 (累积: 92.76%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. TotalCharges: 0.0083 (累积: 93.59%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. MonthlyChargesLog: 0.0083 (累积: 94.42%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. TenureMonthlyCharges: 0.0080 (累积: 95.22%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. ServicesCharges: 0.0072 (累积: 95.94%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. ChargeTenureRatio: 0.0071 (累积: 96.65%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. TenureSquared: 0.0070 (累积: 97.35%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. Contract_Two year: 0.0070 (累积: 98.05%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. ChargesPerService: 0.0069 (累积: 98.74%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. MonthlyCharges: 0.0067 (累积: 99.42%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. IsLongTermCustomer: 0.0058 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. OnlineSecurity_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. StreamingTV_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/XGBoost_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 评估模型: LightGBM
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成 LightGBM 评估报告
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 训练集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 LightGBM (训练集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM (训练集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.9428
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.8361
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.9412
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.8856
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.9854
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.9455
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.9433
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
===== 测试集评估 =====
2025-11-12 17:16:43 - ChurnPrediction - INFO - 计算 LightGBM (测试集) 的评估指标...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM (测试集) 评估结果:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Accuracy:  0.7840
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Precision: 0.5359
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Recall:    0.5942
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1 Score:  0.5636
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC:   0.8072
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC:    0.5722
2025-11-12 17:16:43 - ChurnPrediction - INFO -   Specificity: 0.8422
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM 混淆矩阵分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
混淆矩阵:
2025-11-12 17:16:43 - ChurnPrediction - INFO -               预测负类    预测正类
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际负类:         758         142
2025-11-12 17:16:43 - ChurnPrediction - INFO - 实际正类:         112         164
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
详细分析:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阳性 (TP): 164 (59.42%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阳性 (FP): 142 (15.78%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   真阴性 (TN): 758 (84.22%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   假阴性 (FN): 112 (40.58%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM 分类报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
              precision    recall  f1-score   support

           0       0.87      0.84      0.86       900
           1       0.54      0.59      0.56       276

    accuracy                           0.78      1176
   macro avg       0.70      0.72      0.71      1176
weighted avg       0.79      0.78      0.79      1176

2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM ROC曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC AUC: 0.8072
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.1260
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 TPR: 0.8478, FPR: 0.3744
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM PR曲线分析...
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PR AUC: 0.5722
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优阈值: 0.5156
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优点 Precision: 0.5413, Recall: 0.5942
2025-11-12 17:16:43 - ChurnPrediction - INFO -   最优 F1: 0.5665
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
分析 LightGBM 的特征重要性...
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
Top 20 重要特征:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   1. ChargesPerService: 1673.0000 (累积: 15.32%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   2. ChargeTenureRatio: 1602.0000 (累积: 29.98%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   3. TotalCharges: 1214.0000 (累积: 41.10%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   4. MonthlyCharges: 1196.0000 (累积: 52.05%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   5. TenureSquared: 1190.0000 (累积: 62.94%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   6. ServicesCharges: 992.0000 (累积: 72.02%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   7. TenureMonthlyCharges: 956.0000 (累积: 80.77%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   8. tenure: 723.0000 (累积: 87.39%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   9. PaymentMethod_Electronic check: 350.0000 (累积: 90.60%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   10. TenureLog: 305.0000 (累积: 93.39%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   11. MonthlyChargesLog: 299.0000 (累积: 96.13%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   12. InternetService_Fiber optic: 112.0000 (累积: 97.15%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   13. Contract_Two year: 112.0000 (累积: 98.18%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   14. IsMonthToMonth: 90.0000 (累积: 99.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   15. IsLongTermContract: 83.0000 (累积: 99.76%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   16. HasInternet: 13.0000 (累积: 99.88%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   17. IsNewCustomer: 11.0000 (累积: 99.98%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   18. IsLongTermCustomer: 2.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   19. OnlineSecurity_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO -   20. StreamingTV_No internet service: 0.0000 (累积: 100.00%)
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
评估报告已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LightGBM_evaluation_report.json
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 所有模型对比
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 模型性能对比
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
                模型  Accuracy  Precision  Recall     F1  ROC_AUC  PR_AUC
LogisticRegression    0.7577     0.4897  0.7717 0.5992   0.8328       0
      DecisionTree    0.7509     0.4796  0.7246 0.5772   0.8219       0
           XGBoost    0.7832     0.5335  0.6051 0.5671   0.8100       0
          LightGBM    0.7840     0.5359  0.5942 0.5636   0.8072       0
      RandomForest    0.7764     0.5225  0.5471 0.5345   0.7952       0
  GradientBoosting    0.7670     0.5035  0.5217 0.5125   0.7936       0
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
目标达成情况:
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LogisticRegression:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7577 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.4897 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.7717 (目标: 0.7000) ✓
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5992 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.8328 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
DecisionTree:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7509 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.4796 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.7246 (目标: 0.7000) ✓
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5772 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.8219 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
XGBoost:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7832 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.5335 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.6051 (目标: 0.7000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5671 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.8100 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
LightGBM:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7840 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.5359 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.5942 (目标: 0.7000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5636 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.8072 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
RandomForest:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7764 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.5225 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.5471 (目标: 0.7000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5345 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.7952 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
GradientBoosting:
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ACCURACY: 0.7670 (目标: 0.8000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   PRECISION: 0.5035 (目标: 0.7500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   RECALL: 0.5217 (目标: 0.7000) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   F1: 0.5125 (目标: 0.7200) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO -   ROC_AUC: 0.7936 (目标: 0.8500) ✗
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
对比结果已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/model_comparison.csv
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
模型评估完成
2025-11-12 17:16:43 - ChurnPrediction - INFO - 
生成评估可视化报告...
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 生成模型对比可视化
2025-11-12 17:16:43 - ChurnPrediction - INFO - ============================================================
2025-11-12 17:16:43 - ChurnPrediction - INFO - 绘制混淆矩阵: LogisticRegression - 混淆矩阵
2025-11-12 17:16:43 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LogisticRegression_confusion_matrix.png
2025-11-12 17:16:43 - ChurnPrediction - INFO - 绘制ROC曲线: LogisticRegression - ROC曲线
2025-11-12 17:16:44 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LogisticRegression_roc_curve.png
2025-11-12 17:16:44 - ChurnPrediction - INFO - 绘制PR曲线: LogisticRegression - Precision-Recall曲线
2025-11-12 17:16:44 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LogisticRegression_pr_curve.png
2025-11-12 17:16:44 - ChurnPrediction - INFO - 绘制混淆矩阵: DecisionTree - 混淆矩阵
2025-11-12 17:16:44 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/DecisionTree_confusion_matrix.png
2025-11-12 17:16:44 - ChurnPrediction - INFO - 绘制ROC曲线: DecisionTree - ROC曲线
2025-11-12 17:16:44 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/DecisionTree_roc_curve.png
2025-11-12 17:16:44 - ChurnPrediction - INFO - 绘制PR曲线: DecisionTree - Precision-Recall曲线
2025-11-12 17:16:44 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/DecisionTree_pr_curve.png
2025-11-12 17:16:45 - ChurnPrediction - INFO - 绘制混淆矩阵: RandomForest - 混淆矩阵
2025-11-12 17:16:45 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/RandomForest_confusion_matrix.png
2025-11-12 17:16:45 - ChurnPrediction - INFO - 绘制ROC曲线: RandomForest - ROC曲线
2025-11-12 17:16:45 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/RandomForest_roc_curve.png
2025-11-12 17:16:45 - ChurnPrediction - INFO - 绘制PR曲线: RandomForest - Precision-Recall曲线
2025-11-12 17:16:45 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/RandomForest_pr_curve.png
2025-11-12 17:16:45 - ChurnPrediction - INFO - 绘制混淆矩阵: GradientBoosting - 混淆矩阵
2025-11-12 17:16:46 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/GradientBoosting_confusion_matrix.png
2025-11-12 17:16:46 - ChurnPrediction - INFO - 绘制ROC曲线: GradientBoosting - ROC曲线
2025-11-12 17:16:46 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/GradientBoosting_roc_curve.png
2025-11-12 17:16:46 - ChurnPrediction - INFO - 绘制PR曲线: GradientBoosting - Precision-Recall曲线
2025-11-12 17:16:46 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/GradientBoosting_pr_curve.png
2025-11-12 17:16:46 - ChurnPrediction - INFO - 绘制混淆矩阵: XGBoost - 混淆矩阵
2025-11-12 17:16:46 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/XGBoost_confusion_matrix.png
2025-11-12 17:16:46 - ChurnPrediction - INFO - 绘制ROC曲线: XGBoost - ROC曲线
2025-11-12 17:16:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/XGBoost_roc_curve.png
2025-11-12 17:16:47 - ChurnPrediction - INFO - 绘制PR曲线: XGBoost - Precision-Recall曲线
2025-11-12 17:16:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/XGBoost_pr_curve.png
2025-11-12 17:16:47 - ChurnPrediction - INFO - 绘制混淆矩阵: LightGBM - 混淆矩阵
2025-11-12 17:16:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LightGBM_confusion_matrix.png
2025-11-12 17:16:47 - ChurnPrediction - INFO - 绘制ROC曲线: LightGBM - ROC曲线
2025-11-12 17:16:47 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LightGBM_roc_curve.png
2025-11-12 17:16:47 - ChurnPrediction - INFO - 绘制PR曲线: LightGBM - Precision-Recall曲线
2025-11-12 17:16:48 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/LightGBM_pr_curve.png
2025-11-12 17:16:48 - ChurnPrediction - INFO - 绘制模型对比图: 模型性能对比
2025-11-12 17:16:48 - ChurnPrediction - INFO - 图表已保存: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation/models_comparison.png
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
所有模型对比图表已保存到: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation
2025-11-12 17:16:48 - ChurnPrediction - INFO -   评估图表保存位置: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures/evaluation
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:16:48 - ChurnPrediction - INFO - 阶段 7/7: 结果总结
2025-11-12 17:16:48 - ChurnPrediction - INFO - ================================================================================
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
最佳模型: LogisticRegression
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
性能指标:
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Accuracy:  0.7577
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Precision: 0.4897
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Recall:    0.7717
2025-11-12 17:16:48 - ChurnPrediction - INFO -   F1 Score:  0.5992
2025-11-12 17:16:48 - ChurnPrediction - INFO -   ROC-AUC:   0.8328
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
目标达成情况:
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Accuracy  > 0.80: ✗ 未达成
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Precision > 0.75: ✗ 未达成
2025-11-12 17:16:48 - ChurnPrediction - INFO -   Recall    > 0.70: ✓ 达成
2025-11-12 17:16:48 - ChurnPrediction - INFO -   F1 Score  > 0.72: ✗ 未达成
2025-11-12 17:16:48 - ChurnPrediction - INFO -   ROC-AUC   > 0.85: ✗ 未达成
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
输出文件:
2025-11-12 17:16:48 - ChurnPrediction - INFO -   最佳模型: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/churn_model_best.pkl
2025-11-12 17:16:48 - ChurnPrediction - INFO -   模型元数据: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/models/metadata.json
2025-11-12 17:16:48 - ChurnPrediction - INFO -   图表目录: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/figures
2025-11-12 17:16:48 - ChurnPrediction - INFO -   日志文件: /Users/lyh/Desktop/ Machine Learning/supervised_learning/projects/02_customer_churn_prediction/logs/churn_prediction.log
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
业务洞察:
2025-11-12 17:16:48 - ChurnPrediction - INFO -   模型可以帮助识别高流失风险客户
2025-11-12 17:16:48 - ChurnPrediction - INFO -   预测准确率: 75.77%
2025-11-12 17:16:48 - ChurnPrediction - INFO -   召回率: 77.17% (能识别出的实际流失客户比例)
2025-11-12 17:16:48 - ChurnPrediction - INFO -   精确率: 48.97% (预测为流失的客户中真正流失的比例)
2025-11-12 17:16:48 - ChurnPrediction - INFO - 
================================================================================
2025-11-12 17:16:48 - ChurnPrediction - INFO - 项目执行完成！
2025-11-12 17:16:48 - ChurnPrediction - INFO - ================================================================================
